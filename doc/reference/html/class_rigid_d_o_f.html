<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Graspit: RigidDOF Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>RigidDOF Class Reference</h1><!-- doxytag: class="RigidDOF" --><!-- doxytag: inherits="DOF" --><code>#include &lt;<a class="el" href="dof_8h-source.html">dof.h</a>&gt;</code>
<p>
<div class="dynheader">
Inheritance diagram for RigidDOF:</div>
<div class="dynsection">

<p><center><img src="class_rigid_d_o_f.png" usemap="#RigidDOF_map" border="0" alt=""></center>
<map name="RigidDOF_map">
<area href="class_d_o_f.html" alt="DOF" shape="rect" coords="0,0,104,24">
<area href="class_break_away_d_o_f.html" alt="BreakAwayDOF" shape="rect" coords="0,112,104,136">
</map>
</div>

<p>
<a href="class_rigid_d_o_f-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="36e914595b16e367e33bafa45bea1785"></a><!-- doxytag: member="RigidDOF::RigidDOF" ref="36e914595b16e367e33bafa45bea1785" args="(RigidDOF *original)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>RigidDOF</b> (<a class="el" href="class_rigid_d_o_f.html">RigidDOF</a> *original)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="c7eb7459a4b13a32ad2c984b14bb1c74"></a><!-- doxytag: member="RigidDOF::getType" ref="c7eb7459a4b13a32ad2c984b14bb1c74" args="() const " -->
Type&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_rigid_d_o_f.html#c7eb7459a4b13a32ad2c984b14bb1c74">getType</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the type of this <a class="el" href="class_d_o_f.html" title="A single degree of freedom in a robot.">DOF</a>. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_rigid_d_o_f.html#73e2a88aaa63e907b8e3511091692793">accumulateMove</a> (double q1, double *jointVals, int *stoppedJoints)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Any stopped joint stops all joints of this <a class="el" href="class_d_o_f.html" title="A single degree of freedom in a robot.">DOF</a>.  <a href="#73e2a88aaa63e907b8e3511091692793"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_rigid_d_o_f.html#22af273a09680c034c7cbc33db22d2d8">updateFromJointValues</a> (const double *jointVals=NULL)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets based on first joint in the list.  <a href="#22af273a09680c034c7cbc33db22d2d8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a16fa5a88682ed6200297318c17c930a"></a><!-- doxytag: member="RigidDOF::updateVal" ref="a16fa5a88682ed6200297318c17c930a" args="(double q1)" -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_rigid_d_o_f.html#a16fa5a88682ed6200297318c17c930a">updateVal</a> (double q1)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Nothing special to do here. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="4dd6a66125cc980558c3e2fe10574ab3"></a><!-- doxytag: member="RigidDOF::reset" ref="4dd6a66125cc980558c3e2fe10574ab3" args="()" -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_rigid_d_o_f.html#4dd6a66125cc980558c3e2fe10574ab3">reset</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This is empty for the rigid <a class="el" href="class_d_o_f.html" title="A single degree of freedom in a robot.">DOF</a> which is entirely state-less, nothing to reset. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="2678345c98c480e6c08ab177c1793f7d"></a><!-- doxytag: member="RigidDOF::getStaticRatio" ref="2678345c98c480e6c08ab177c1793f7d" args="(Joint *j) const " -->
virtual double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_rigid_d_o_f.html#2678345c98c480e6c08ab177c1793f7d">getStaticRatio</a> (<a class="el" href="class_joint.html">Joint</a> *j) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">For a rigid <a class="el" href="class_d_o_f.html" title="A single degree of freedom in a robot.">DOF</a>, the coupling ratio decides the ratio of movement, since the coupling is rigid. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="1aca11dff7bd812fc86573eb9710de58"></a><!-- doxytag: member="RigidDOF::getJointValues" ref="1aca11dff7bd812fc86573eb9710de58" args="(double *jointVals) const " -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_rigid_d_o_f.html#1aca11dff7bd812fc86573eb9710de58">getJointValues</a> (double *jointVals) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Each joint only depepends on dof value. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_rigid_d_o_f.html#070a07c1e14a147cdb0f88a6a62b7ebf">computeStaticJointTorques</a> (double *, double)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Zero everywhere, no static torques.  <a href="#070a07c1e14a147cdb0f88a6a62b7ebf"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_rigid_d_o_f.html#34ba3253acbc2ed1851054a048550973">getNumLimitConstraints</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">At most one, if any of the joints is close or outside limit.  <a href="#34ba3253acbc2ed1851054a048550973"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_rigid_d_o_f.html#cbd4dfed3d663e407628963b3cc8879a">buildDynamicLimitConstraints</a> (std::map&lt; <a class="el" href="class_body.html">Body</a> *, int &gt; &amp;islandIndices, int numBodies, double *H, double *g, int &amp;hcn)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Only one, applied to first joint in the <a class="el" href="class_d_o_f.html" title="A single degree of freedom in a robot.">DOF</a>.  <a href="#cbd4dfed3d663e407628963b3cc8879a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="3c5fb434595d45e824894f91e687f078"></a><!-- doxytag: member="RigidDOF::getNumCouplingConstraints" ref="3c5fb434595d45e824894f91e687f078" args="()" -->
virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_rigid_d_o_f.html#3c5fb434595d45e824894f91e687f078">getNumCouplingConstraints</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Rigid coupling constraints ensure all joints move together. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_rigid_d_o_f.html#13cf342f1210cdc47dc932c6235b5369">buildDynamicCouplingConstraints</a> (std::map&lt; <a class="el" href="class_body.html">Body</a> *, int &gt; &amp;islandIndices, int numBodies, double *Nu, double *eps, int &amp;ncn)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Rigid coupling constraints ensure all joints move together.  <a href="#13cf342f1210cdc47dc932c6235b5369"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_rigid_d_o_f.html#33c018924285fd60f6eb07232a078078">setForce</a> (double f)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Only sets force to first joint, coupling constraints should take care of rest.  <a href="#33c018924285fd60f6eb07232a078078"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The <a class="el" href="class_rigid_d_o_f.html">RigidDOF</a> is the simplest form of <a class="el" href="class_d_o_f.html" title="A single degree of freedom in a robot.">DOF</a>. All of its joints are rigidly connected, so if one stops, all stop. <hr><h2>Member Function Documentation</h2>
<a class="anchor" name="73e2a88aaa63e907b8e3511091692793"></a><!-- doxytag: member="RigidDOF::accumulateMove" ref="73e2a88aaa63e907b8e3511091692793" args="(double q1, double *jointVals, int *stoppedJoints)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool RigidDOF::accumulateMove           </td>
          <td>(</td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>q1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>jointVals</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>stoppedJoints</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Any stopped joint stops all joints of this <a class="el" href="class_d_o_f.html" title="A single degree of freedom in a robot.">DOF</a>. 
<p>
The <a class="el" href="class_rigid_d_o_f.html">RigidDOF</a> stops altogether if a single joint that it controls is stopped. If not, it sets all joints based on their ratio to the <a class="el" href="class_d_o_f.html" title="A single degree of freedom in a robot.">DOF</a> value 
<p>Implements <a class="el" href="class_d_o_f.html#d77f1d928f9bc08fac53dacefeffe443">DOF</a>.</p>

<p>Reimplemented in <a class="el" href="class_break_away_d_o_f.html#2b92aeaa1f5d442554a96abafa3f21e5">BreakAwayDOF</a>.</p>

</div>
</div><p>
<a class="anchor" name="13cf342f1210cdc47dc932c6235b5369"></a><!-- doxytag: member="RigidDOF::buildDynamicCouplingConstraints" ref="13cf342f1210cdc47dc932c6235b5369" args="(std::map&lt; Body *, int &gt; &amp;islandIndices, int numBodies, double *Nu, double *eps, int &amp;ncn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RigidDOF::buildDynamicCouplingConstraints           </td>
          <td>(</td>
          <td class="paramtype">std::map&lt; <a class="el" href="class_body.html">Body</a> *, int &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>islandIndices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numBodies</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>Nu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>eps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&nbsp;</td>
          <td class="paramname"> <em>ncn</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Rigid coupling constraints ensure all joints move together. 
<p>
On the rigid dof, all joints are coupled together, enforcing that the movement in all joints is identical to the movement in the first joint in the list controlled by this <a class="el" href="class_d_o_f.html" title="A single degree of freedom in a robot.">DOF</a>. 
<p>Implements <a class="el" href="class_d_o_f.html#5da625694296f6def291048bc9107a1e">DOF</a>.</p>

</div>
</div><p>
<a class="anchor" name="cbd4dfed3d663e407628963b3cc8879a"></a><!-- doxytag: member="RigidDOF::buildDynamicLimitConstraints" ref="cbd4dfed3d663e407628963b3cc8879a" args="(std::map&lt; Body *, int &gt; &amp;islandIndices, int numBodies, double *H, double *g, int &amp;hcn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RigidDOF::buildDynamicLimitConstraints           </td>
          <td>(</td>
          <td class="paramtype">std::map&lt; <a class="el" href="class_body.html">Body</a> *, int &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>islandIndices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numBodies</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>H</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>g</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&nbsp;</td>
          <td class="paramname"> <em>hcn</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Only one, applied to first joint in the <a class="el" href="class_d_o_f.html" title="A single degree of freedom in a robot.">DOF</a>. 
<p>
The regular <a class="el" href="class_d_o_f.html" title="A single degree of freedom in a robot.">DOF</a> only imposes a single limit constraint, which will be placed on the first joint in this <a class="el" href="class_d_o_f.html" title="A single degree of freedom in a robot.">DOF</a>. Assumes the rest of the joints are rigidly connected, so coupling constraints will take care of the rest. 
<p>Implements <a class="el" href="class_d_o_f.html#41b892c6e7288a3e205b28e2bb6e325e">DOF</a>.</p>

</div>
</div><p>
<a class="anchor" name="070a07c1e14a147cdb0f88a6a62b7ebf"></a><!-- doxytag: member="RigidDOF::computeStaticJointTorques" ref="070a07c1e14a147cdb0f88a6a62b7ebf" args="(double *, double)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool RigidDOF::computeStaticJointTorques           </td>
          <td>(</td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Zero everywhere, no static torques. 
<p>
In the <a class="el" href="class_rigid_d_o_f.html">RigidDOF</a> there is never any excess force applied at any joint. All joints are rigidly connected to the <a class="el" href="class_d_o_f.html" title="A single degree of freedom in a robot.">DOF</a>, so once a joint is stopped the <a class="el" href="class_d_o_f.html" title="A single degree of freedom in a robot.">DOF</a> can not advance any more so no more force is applied. 
<p>Implements <a class="el" href="class_d_o_f.html#cd3d62c7e7588b969d9a9e567e944445">DOF</a>.</p>

<p>Reimplemented in <a class="el" href="class_break_away_d_o_f.html#b94e0cd25d9e86528e37c118db5c15e2">BreakAwayDOF</a>.</p>

</div>
</div><p>
<a class="anchor" name="34ba3253acbc2ed1851054a048550973"></a><!-- doxytag: member="RigidDOF::getNumLimitConstraints" ref="34ba3253acbc2ed1851054a048550973" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int RigidDOF::getNumLimitConstraints           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
At most one, if any of the joints is close or outside limit. 
<p>
If any of the joints are too close (or over) their range, we still have a single contraint that we will use to correct this 
<p>Implements <a class="el" href="class_d_o_f.html#2608bec77d257b32d9945e7aa51540c3">DOF</a>.</p>

</div>
</div><p>
<a class="anchor" name="33c018924285fd60f6eb07232a078078"></a><!-- doxytag: member="RigidDOF::setForce" ref="33c018924285fd60f6eb07232a078078" args="(double f)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RigidDOF::setForce           </td>
          <td>(</td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>f</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Only sets force to first joint, coupling constraints should take care of rest. 
<p>
Sets the current force applied to this <a class="el" href="class_d_o_f.html" title="A single degree of freedom in a robot.">DOF</a>, keeping it within the maximum force limits. This force is then applied to the joints based on the transmission type implemented by each dof. 
<p>Implements <a class="el" href="class_d_o_f.html#3a8923447ed2275610ddc2ba74251d49">DOF</a>.</p>

</div>
</div><p>
<a class="anchor" name="22af273a09680c034c7cbc33db22d2d8"></a><!-- doxytag: member="RigidDOF::updateFromJointValues" ref="22af273a09680c034c7cbc33db22d2d8" args="(const double *jointVals=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RigidDOF::updateFromJointValues           </td>
          <td>(</td>
          <td class="paramtype">const double *&nbsp;</td>
          <td class="paramname"> <em>jointVals</em> = <code>NULL</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets based on first joint in the list. 
<p>
In the <a class="el" href="class_rigid_d_o_f.html">RigidDOF</a> all joint values behave the same way (either they are all stopped or they all move based on the <a class="el" href="class_d_o_f.html" title="A single degree of freedom in a robot.">DOF</a> ratios. Therefore it is enough to look at a single joint in the list (such as the first one) to know what the <a class="el" href="class_d_o_f.html" title="A single degree of freedom in a robot.">DOF</a> value should be. 
<p>Implements <a class="el" href="class_d_o_f.html#eac893c4b1e5f0994eb1407c811972fa">DOF</a>.</p>

<p>Reimplemented in <a class="el" href="class_break_away_d_o_f.html#ba9f9816966f89b4167a7be353639bed">BreakAwayDOF</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>C:/Documents and Settings/cmatei/My Documents/GraspitVersions/Graspit-2-1/include/<a class="el" href="dof_8h-source.html">dof.h</a><li>C:/Documents and Settings/cmatei/My Documents/GraspitVersions/Graspit-2-1/src/dof.cpp</ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Jul 24 16:39:14 2009 for Graspit by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
