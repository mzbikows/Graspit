<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Graspit: EigenGraspInterface Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>EigenGraspInterface Class Reference</h1><!-- doxytag: class="EigenGraspInterface" --><code>#include &lt;<a class="el" href="eigen_grasp_8h-source.html">eigenGrasp.h</a>&gt;</code>
<p>

<p>
<a href="class_eigen_grasp_interface-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="552d705dfc646898cf0caf50361674a4"></a><!-- doxytag: member="EigenGraspInterface::EigenGraspInterface" ref="552d705dfc646898cf0caf50361674a4" args="(Robot *r)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>EigenGraspInterface</b> (<a class="el" href="class_robot.html">Robot</a> *r)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="6ba1ee6fc172d09154c07b710dadcb9f"></a><!-- doxytag: member="EigenGraspInterface::EigenGraspInterface" ref="6ba1ee6fc172d09154c07b710dadcb9f" args="(const EigenGraspInterface *orig)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>EigenGraspInterface</b> (const <a class="el" href="class_eigen_grasp_interface.html">EigenGraspInterface</a> *orig)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="4de5113bd5e7336184c59259b0f97997"></a><!-- doxytag: member="EigenGraspInterface::getGrasp" ref="4de5113bd5e7336184c59259b0f97997" args="(int g)" -->
const <a class="el" href="class_eigen_grasp.html">EigenGrasp</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_eigen_grasp_interface.html#4de5113bd5e7336184c59259b0f97997">getGrasp</a> (int g)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the g-th eigengrasp. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="0c00be52b3385df2e55a477a634ae44f"></a><!-- doxytag: member="EigenGraspInterface::getSize" ref="0c00be52b3385df2e55a477a634ae44f" args="() const " -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_eigen_grasp_interface.html#0c00be52b3385df2e55a477a634ae44f">getSize</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the size of the eigengrasp space (the number of eigengrasps). <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a226ad732b1e16bc66c863c5a1cef345"></a><!-- doxytag: member="EigenGraspInterface::isRigid" ref="a226ad732b1e16bc66c863c5a1cef345" args="() const " -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_eigen_grasp_interface.html#a226ad732b1e16bc66c863c5a1cef345">isRigid</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns whether the interface is rigid. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_eigen_grasp_interface.html#d767212ddb89c61cfa186f7b24315061">setRigid</a> (bool r) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the interface to rigid mode or non-rigis mode.  <a href="#d767212ddb89c61cfa186f7b24315061"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_eigen_grasp_interface.html#de23f11d1ae72388ce0e84c170193da4">writeToFile</a> (const char *filename)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Saves all the eigengrasps that define the subspace to a file, then also writes the origin.  <a href="#de23f11d1ae72388ce0e84c170193da4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_eigen_grasp_interface.html#f5543998d5ac153ef42fd9877cbf2680">readFromFile</a> (QString filename)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Loads all the eigengrasps, as well as the origin, from a file.  <a href="#f5543998d5ac153ef42fd9877cbf2680"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ce8f30b00497560e895ef6215736fc94"></a><!-- doxytag: member="EigenGraspInterface::setTrivial" ref="ce8f30b00497560e895ef6215736fc94" args="()" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_eigen_grasp_interface.html#ce8f30b00497560e895ef6215736fc94">setTrivial</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The trivial set of EG's is the identity set, where the EG (sub)space is identical to the dof space. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="5fc1e1e710cdc850a913e7f6cd1ed53d"></a><!-- doxytag: member="EigenGraspInterface::setName" ref="5fc1e1e710cdc850a913e7f6cd1ed53d" args="(QString n)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_eigen_grasp_interface.html#5fc1e1e710cdc850a913e7f6cd1ed53d">setName</a> (QString n)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the name of this space; used used to show what file these eigengrasps were loaded from. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b38fc32faf0826df9ca06345cd135e0b"></a><!-- doxytag: member="EigenGraspInterface::getName" ref="b38fc32faf0826df9ca06345cd135e0b" args="() const " -->
const QString&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_eigen_grasp_interface.html#b38fc32faf0826df9ca06345cd135e0b">getName</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the name of this space; used only for gui and debug purposes. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="31b542c18567ae3d9abfae7d3367d760"></a><!-- doxytag: member="EigenGraspInterface::setOrigin" ref="31b542c18567ae3d9abfae7d3367d760" args="(const double *dof)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_eigen_grasp_interface.html#31b542c18567ae3d9abfae7d3367d760">setOrigin</a> (const double *dof)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the origin of the eigengrasp space, as a point in the dof space. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_eigen_grasp_interface.html#0f71d275ed632ad75f7598943cf98951">setSimpleOrigin</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the origin of eigengrasp space as the point halfway between each dof's range.  <a href="#0f71d275ed632ad75f7598943cf98951"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_eigen_grasp_interface.html#4698d029a967e2e09833878634089302">setMinMax</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Re-computes the min and max allowable amplitudes along each EG direction.  <a href="#4698d029a967e2e09833878634089302"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_eigen_grasp_interface.html#e7282f755bf2dbf279a39885a50a5bcd">checkOrigin</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Checks if the origin of the eigengrasp space is inside the legal range of the dofs.  <a href="#e7282f755bf2dbf279a39885a50a5bcd"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_eigen_grasp_interface.html#f5266ac1c162381dcdd4778c8a7e7f4d">fixEigenGrasp</a> (int i, double fa)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets one of the eigengrasps as "fixed", meaning no movement is allowed along it.  <a href="#f5266ac1c162381dcdd4778c8a7e7f4d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="2a361872529b6e83f075430ddf0ddf62"></a><!-- doxytag: member="EigenGraspInterface::unfixEigenGrasp" ref="2a361872529b6e83f075430ddf0ddf62" args="(int i)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_eigen_grasp_interface.html#2a361872529b6e83f075430ddf0ddf62">unfixEigenGrasp</a> (int i)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Removes the "fixed" tag from an eigengrasp, allowing free movement. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_eigen_grasp_interface.html#53af40ad7080de041e008af1535e4c1c">getDOF</a> (const double *amp, double *dof) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Converts a set of eigengrasp amplitudes into dof values.  <a href="#53af40ad7080de041e008af1535e4c1c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_eigen_grasp_interface.html#9d7cb6e0e8d09ef7bb4ce9d12c1a2f68">getAmp</a> (double *amp, const double *dof) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Converts a set of dof values to eigengrasp amplitudes.  <a href="#9d7cb6e0e8d09ef7bb4ce9d12c1a2f68"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This is the complete interface for controlling a robot in an eigengrasp subspace. It holds a set of eigengrasps for a particular robot. It also has AN ORIGIN OF MOTION which is VERY IMPORTANT: it completely defines the subspace of the eigengrasps.<p>
The main role of this interface is to go back and forth between two spaces: the dof, of dimensionality <em>dSize</em>, and the eigengrasp space, of dimensionality <em>eSize</em>. It simply defines the eigengrasp subspace and provides a linear mapping between the two. <hr><h2>Member Function Documentation</h2>
<a class="anchor" name="e7282f755bf2dbf279a39885a50a5bcd"></a><!-- doxytag: member="EigenGraspInterface::checkOrigin" ref="e7282f755bf2dbf279a39885a50a5bcd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EigenGraspInterface::checkOrigin           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Checks if the origin of the eigengrasp space is inside the legal range of the dofs. 
<p>
If the origin of the eigengrasp subspace is not inside the legal range of the dof, the coordinate of the origin along the offending axis is set to either the min or the max of that dof. 
</div>
</div><p>
<a class="anchor" name="f5266ac1c162381dcdd4778c8a7e7f4d"></a><!-- doxytag: member="EigenGraspInterface::fixEigenGrasp" ref="f5266ac1c162381dcdd4778c8a7e7f4d" args="(int i, double fa)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EigenGraspInterface::fixEigenGrasp           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>fa</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets one of the eigengrasps as "fixed", meaning no movement is allowed along it. 
<p>
This is relevant when a point in dof space has to be projected in eigengrasp space and then back to dof space; if a certain eigengrasp is fixed, the projection is forced to assume the fixed value for that eigengrasp. 
</div>
</div><p>
<a class="anchor" name="9d7cb6e0e8d09ef7bb4ce9d12c1a2f68"></a><!-- doxytag: member="EigenGraspInterface::getAmp" ref="9d7cb6e0e8d09ef7bb4ce9d12c1a2f68" args="(double *amp, const double *dof) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EigenGraspInterface::getAmp           </td>
          <td>(</td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>amp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double *&nbsp;</td>
          <td class="paramname"> <em>dof</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Converts a set of dof values to eigengrasp amplitudes. 
<p>
Given a set of dof values (a point in dof space), it computes its eigengrasp amplitudes (its projection in eg space). Just subtracts the origin of the eg space from the provided point, then projects the result along the eg subspace. 
</div>
</div><p>
<a class="anchor" name="53af40ad7080de041e008af1535e4c1c"></a><!-- doxytag: member="EigenGraspInterface::getDOF" ref="53af40ad7080de041e008af1535e4c1c" args="(const double *amp, double *dof) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EigenGraspInterface::getDOF           </td>
          <td>(</td>
          <td class="paramtype">const double *&nbsp;</td>
          <td class="paramname"> <em>amp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>dof</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Converts a set of eigengrasp amplitudes into dof values. 
<p>
Given a vector of EG amplitudes (a point in EG subspace) this function returns it's equivalent in <a class="el" href="class_d_o_f.html" title="A single degree of freedom in a robot.">DOF</a> space. Essentially, it back-projects a point from eg space to dof space.<p>
If the interface is rigid, we add the amplitudes to the pre-specified eigen space origin. This means we DISCARD whatever component was in the pose that was not from eigenspace.<p>
If the interface is not rigid, we add the change in amplitudes to the current <a class="el" href="classposition.html" title="A 3-dimensional position and methods to operate on them.">position</a> of the robot. This means we KEEP the <a class="el" href="classposition.html" title="A 3-dimensional position and methods to operate on them.">position</a> component that was not in eigen space. 
</div>
</div><p>
<a class="anchor" name="f5543998d5ac153ef42fd9877cbf2680"></a><!-- doxytag: member="EigenGraspInterface::readFromFile" ref="f5543998d5ac153ef42fd9877cbf2680" args="(QString filename)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int EigenGraspInterface::readFromFile           </td>
          <td>(</td>
          <td class="paramtype">QString&nbsp;</td>
          <td class="paramname"> <em>filename</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Loads all the eigengrasps, as well as the origin, from a file. 
<p>
Reads the entire interface from a file, looking for keywords inside the file. Loads the size of the dof space, all eg's (which define the size of the eg space), any normalization factors (optional) and the origin of the eg space (optional).<p>
The size of the dof space must be loaded before any eg's, origin, etc can be loaded; is must also match the number of dof's in this robot. 
</div>
</div><p>
<a class="anchor" name="4698d029a967e2e09833878634089302"></a><!-- doxytag: member="EigenGraspInterface::setMinMax" ref="4698d029a967e2e09833878634089302" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EigenGraspInterface::setMinMax           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Re-computes the min and max allowable amplitudes along each EG direction. 
<p>
The boundary of the "legal" space forms a polygon in EG-subspace which is not axis-aligned. It is difficult to compute analytically so for any new hand configuration this function re-computes the min and max values. The min and max along each eigengrasp are then stored inside the eigengrasps themselves.<p>
The behavior depends on whether EIGENGRASP_LOOSE is defined. If not, min and max have to be set so that not a single dof is taken outside of its range. If it is not set, then min and max have to be set so that at least one dof is inside the legal range, the others can go out as they will be clamped later.<p>
For some reason, this apparently simple function has given me a ton of trouble, and I've never been completely happy with it. 
</div>
</div><p>
<a class="anchor" name="d767212ddb89c61cfa186f7b24315061"></a><!-- doxytag: member="EigenGraspInterface::setRigid" ref="d767212ddb89c61cfa186f7b24315061" args="(bool r) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EigenGraspInterface::setRigid           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>r</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets the interface to rigid mode or non-rigis mode. 
<p>
In rigid motion, only configuration that are strictly inside the EG subspace are allowed. Otherwise, any configuration is allowed. This is relevant when getAmp(...) and getDOF(...) are used. 
</div>
</div><p>
<a class="anchor" name="0f71d275ed632ad75f7598943cf98951"></a><!-- doxytag: member="EigenGraspInterface::setSimpleOrigin" ref="0f71d275ed632ad75f7598943cf98951" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EigenGraspInterface::setSimpleOrigin           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets the origin of eigengrasp space as the point halfway between each dof's range. 
<p>
Sets as origin of eigengrasp subspace the point which is halfway between min and max for each <a class="el" href="class_d_o_f.html" title="A single degree of freedom in a robot.">DOF</a> of the robot. 
</div>
</div><p>
<a class="anchor" name="de23f11d1ae72388ce0e84c170193da4"></a><!-- doxytag: member="EigenGraspInterface::writeToFile" ref="de23f11d1ae72388ce0e84c170193da4" args="(const char *filename)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int EigenGraspInterface::writeToFile           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>filename</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Saves all the eigengrasps that define the subspace to a file, then also writes the origin. 
<p>
Writes the entire interface to a file in the following order:<ul>
<li>the size of the eg space</li><li>the size of the dof space</li><li>all eigengrasps</li><li>the origin Seems not to be compatible with the readFromFile fucntion of this class. </li></ul>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>C:/Documents and Settings/cmatei/My Documents/GraspitVersions/Graspit-2-1/include/<a class="el" href="eigen_grasp_8h-source.html">eigenGrasp.h</a><li>C:/Documents and Settings/cmatei/My Documents/GraspitVersions/Graspit-2-1/src/eigenGrasp.cpp</ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Jul 24 16:39:11 2009 for Graspit by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
