<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Graspit: C:/Documents and Settings/cmatei/My Documents/GraspitVersions/Graspit-2-1/include/Planner/grasp_tester.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>C:/Documents and Settings/cmatei/My Documents/GraspitVersions/Graspit-2-1/include/Planner/grasp_tester.h</h1><a href="grasp__tester_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">//######################################################################</span>
<a name="l00002"></a>00002 <span class="comment">//</span>
<a name="l00003"></a>00003 <span class="comment">// GraspIt!</span>
<a name="l00004"></a>00004 <span class="comment">// Copyright (C) 2002-2009  Columbia University in the City of New York.</span>
<a name="l00005"></a>00005 <span class="comment">// All rights reserved.</span>
<a name="l00006"></a>00006 <span class="comment">//</span>
<a name="l00007"></a>00007 <span class="comment">// GraspIt! is free software: you can redistribute it and/or modify</span>
<a name="l00008"></a>00008 <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l00009"></a>00009 <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l00010"></a>00010 <span class="comment">// (at your option) any later version.</span>
<a name="l00011"></a>00011 <span class="comment">//</span>
<a name="l00012"></a>00012 <span class="comment">// GraspIt! is distributed in the hope that it will be useful,</span>
<a name="l00013"></a>00013 <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00014"></a>00014 <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l00015"></a>00015 <span class="comment">// GNU General Public License for more details.</span>
<a name="l00016"></a>00016 <span class="comment">//</span>
<a name="l00017"></a>00017 <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l00018"></a>00018 <span class="comment">// along with GraspIt!.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l00019"></a>00019 <span class="comment">//</span>
<a name="l00020"></a>00020 <span class="comment">// Authors: Steffen Knoop</span>
<a name="l00021"></a>00021 <span class="comment">//          Andrew T. Miller </span>
<a name="l00022"></a>00022 <span class="comment">//</span>
<a name="l00023"></a>00023 <span class="comment">// $Id: grasp_tester.h,v 1.5.4.1 2009/07/23 21:17:55 cmatei Exp $</span>
<a name="l00024"></a>00024 <span class="comment">//</span>
<a name="l00025"></a>00025 <span class="comment">//######################################################################</span>
<a name="l00026"></a>00026 
<a name="l00027"></a>00027 <span class="comment">/***************************************************************************/</span>
<a name="l00028"></a>00028 <span class="comment">/*      FILE:     grasp_tester.h                                           */</span>
<a name="l00029"></a>00029 <span class="comment">/*      AUTHOR:   Steffen Knoop                                            */</span>
<a name="l00030"></a>00030 <span class="comment">/*      DATE:     03-08-2002                                               */</span>
<a name="l00031"></a>00031 <span class="comment">/***************************************************************************/</span>
<a name="l00032"></a>00032 
<a name="l00037"></a>00037 <span class="preprocessor">#ifndef GRASP_TESTER_H</span>
<a name="l00038"></a>00038 <span class="preprocessor"></span><span class="preprocessor">#define GRASP_TESTER_H</span>
<a name="l00039"></a>00039 <span class="preprocessor"></span>
<a name="l00040"></a>00040 <span class="comment">/* Minimum quality to accept grasp as stable. */</span>
<a name="l00041"></a>00041 <span class="preprocessor">#define QUALITY_MIN_THRESHOLD 0.0</span>
<a name="l00042"></a>00042 <span class="preprocessor"></span>
<a name="l00043"></a>00043 <span class="comment">/* When a grasp is initially unstable, grasp_tester tries to</span>
<a name="l00044"></a>00044 <span class="comment">   step back from the object several times and determines the</span>
<a name="l00045"></a>00045 <span class="comment">   grasp quality there. This affects strongly the computing time. */</span>
<a name="l00046"></a>00046 <span class="preprocessor">#define MAX_ITERATION_STEPS_PER_GRASP 20</span>
<a name="l00047"></a>00047 <span class="preprocessor"></span>
<a name="l00048"></a>00048 <span class="comment">/* Step size in mm when iterating backwards. */</span>
<a name="l00049"></a>00049 <span class="preprocessor">#define BACK_ITERATION_STEP_SIZE 4.0</span>
<a name="l00050"></a>00050 <span class="preprocessor"></span>
<a name="l00051"></a>00051 <span class="preprocessor">#define DEG_2_RAD M_PI/180.0</span>
<a name="l00052"></a>00052 <span class="preprocessor"></span>
<a name="l00053"></a>00053 <span class="preprocessor">#include &lt;QObject&gt;</span>
<a name="l00054"></a>00054 <span class="preprocessor">#include &lt;QFile&gt;</span>
<a name="l00055"></a>00055 
<a name="l00056"></a>00056 <span class="preprocessor">#include &lt;QTextStream&gt;</span>
<a name="l00057"></a>00057 
<a name="l00058"></a>00058 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00059"></a>00059 
<a name="l00060"></a>00060 <span class="preprocessor">#include "<a class="code" href="matvec3_d_8h.html" title="Defines the classes: vec3, position, mat3, Quaternion, and transf.">matvec3D.h</a>"</span>
<a name="l00061"></a>00061 <span class="preprocessor">#include "<a class="code" href="collision_structures_8h.html">collisionStructures.h</a>"</span>
<a name="l00062"></a>00062 <span class="preprocessor">#include "<a class="code" href="grasp__directions_8h.html" title="Defines the class GraspDirection , the palm position and approach vector for a candidate...">grasp_directions.h</a>"</span>
<a name="l00063"></a>00063 <span class="preprocessor">#include "<a class="code" href="grasp__preshape_8h.html" title="Defines the class preshape , a pre-grasp hand shape (used in the grasp planner).">grasp_preshape.h</a>"</span>
<a name="l00064"></a>00064 <span class="preprocessor">#include "<a class="code" href="grasp__grasps_8h.html" title="Defines the classes finalGraspPosition and plannedGrasp (used in the grasp planner)...">grasp_grasps.h</a>"</span>
<a name="l00065"></a>00065 
<a name="l00066"></a>00066 <span class="keyword">class </span>SoQtExaminerViewer;
<a name="l00067"></a>00067 <span class="keyword">class </span><a class="code" href="class_world.html" title="The simulation world holds the world elements and handles their static and dynamic...">World</a>;
<a name="l00068"></a>00068 <span class="keyword">class </span><a class="code" href="class_hand.html" title="A hand is a special type of robot that can have a grasp associated with it.">Hand</a>;
<a name="l00069"></a>00069 <span class="keyword">class </span><a class="code" href="class_grasp.html" title="A grasp occurs between a hand and an object and has quality measures associated with...">Grasp</a>;
<a name="l00070"></a>00070 <span class="keyword">class </span><a class="code" href="class_graspable_body.html" title="Used for dynamic bodies that are not part of a robot.">GraspableBody</a>;
<a name="l00071"></a>00071 <span class="keyword">class </span><a class="code" href="class_i_vmgr.html" title="Handles 3D interactions with the world.">IVmgr</a>;
<a name="l00072"></a>00072 <span class="keyword">class </span><a class="code" href="class_quality_measure.html" title="Abstract base class for quality measures.">QualityMeasure</a>;
<a name="l00073"></a>00073 <span class="keyword">class </span>SoQtRenderArea;
<a name="l00074"></a>00074 <span class="keyword">class </span>SoGroup;
<a name="l00075"></a>00075 <span class="keyword">class </span>SoSensor;
<a name="l00076"></a>00076 <span class="keyword">class </span>SoSeparator;
<a name="l00077"></a>00077 <span class="keyword">class </span><a class="code" href="class_body.html" title="A generic simulation body.">Body</a>;
<a name="l00078"></a>00078 
<a name="l00079"></a>00079 
<a name="l00081"></a>00081 
<a name="l00115"></a><a class="code" href="classgrasp__tester.html">00115</a> <span class="keyword">class </span><a class="code" href="classgrasp__tester.html" title="This class is used to evaluate a set of candidate grasps.">grasp_tester</a> : <span class="keyword">public</span> QObject
<a name="l00116"></a>00116 {
<a name="l00117"></a>00117   Q_OBJECT
<a name="l00118"></a>00118 
<a name="l00119"></a>00119 <span class="keyword">private</span>:
<a name="l00120"></a>00120 
<a name="l00122"></a>00122   SoQtExaminerViewer *myViewer;
<a name="l00123"></a>00123 
<a name="l00125"></a>00125   <a class="code" href="class_world.html" title="The simulation world holds the world elements and handles their static and dynamic...">World</a>              *my_world;
<a name="l00126"></a>00126 
<a name="l00128"></a>00128   <a class="code" href="class_hand.html" title="A hand is a special type of robot that can have a grasp associated with it.">Hand</a>               *my_hand;
<a name="l00129"></a>00129 
<a name="l00131"></a>00131   <a class="code" href="class_graspable_body.html" title="Used for dynamic bodies that are not part of a robot.">GraspableBody</a>      *my_body;
<a name="l00132"></a>00132 
<a name="l00134"></a>00134   <a class="code" href="class_grasp.html" title="A grasp occurs between a hand and an object and has quality measures associated with...">Grasp</a>              *my_grasp;
<a name="l00135"></a>00135 
<a name="l00137"></a>00137   <a class="code" href="class_i_vmgr.html" title="Handles 3D interactions with the world.">IVmgr</a>                *ivmgr;
<a name="l00138"></a>00138 
<a name="l00140"></a>00140   <span class="keywordtype">int</span>                  whichQM;
<a name="l00141"></a>00141 
<a name="l00143"></a>00143   <span class="keywordtype">bool</span>                 saveToFile;
<a name="l00144"></a>00144 
<a name="l00146"></a>00146   QFile               graspFile;
<a name="l00147"></a>00147 
<a name="l00149"></a>00149   QTextStream         graspOut;
<a name="l00150"></a>00150 
<a name="l00152"></a>00152   SoQtRenderArea     *projectionViewer;
<a name="l00153"></a>00153 
<a name="l00155"></a>00155   SoGroup *primitives;
<a name="l00156"></a>00156 
<a name="l00158"></a>00158   <a class="code" href="collision_structures_8h.html#56044fe7fffe7044c92ff5bfae3d56b6">CollisionReport</a> colReport;
<a name="l00159"></a>00159 
<a name="l00161"></a>00161     std::list&lt;plannedGrasp*&gt;* graspList;
<a name="l00162"></a>00162 
<a name="l00164"></a>00164   <span class="keywordtype">bool</span> render;
<a name="l00165"></a>00165 
<a name="l00167"></a>00167   std::list&lt;plannedGrasp*&gt;::iterator it_gr;
<a name="l00168"></a>00168 
<a name="l00170"></a>00170   <a class="code" href="classtransf.html" title="A rigid body transformation.">transf</a> origTran;
<a name="l00171"></a>00171 
<a name="l00173"></a>00173     <span class="keywordtype">double</span> *dofs;
<a name="l00174"></a>00174     
<a name="l00176"></a>00176   SoSensor *idleSensor;
<a name="l00177"></a>00177 
<a name="l00179"></a>00179   SoSeparator        *glRoot;
<a name="l00180"></a>00180 
<a name="l00182"></a>00182   <span class="keywordtype">int</span> nrOfGrasps;
<a name="l00183"></a>00183 
<a name="l00185"></a>00185   <span class="keywordtype">int</span> actualGraspNr;
<a name="l00186"></a>00186 
<a name="l00188"></a>00188   <span class="keywordtype">int</span> maxItStepNr;
<a name="l00189"></a>00189 
<a name="l00191"></a>00191   <span class="keywordtype">double</span> backStepSize;
<a name="l00192"></a>00192 
<a name="l00193"></a>00193 <span class="comment">/*</span>
<a name="l00194"></a>00194 <span class="comment"> * methods</span>
<a name="l00195"></a>00195 <span class="comment"> */</span>
<a name="l00196"></a>00196   <span class="keywordtype">bool</span> putIt(<a class="code" href="classplanned_grasp.html" title="This class represents a single candidate grasp for the grasp planner.">plannedGrasp</a> *pg, <span class="keywordtype">bool</span> render_in=<span class="keyword">false</span>);
<a name="l00197"></a>00197   <span class="keywordtype">bool</span> preshapeIt(<a class="code" href="classpreshape.html" title="Holds the grasp preshape type and the DOF values for that presahpe.">preshape</a> p, <span class="keywordtype">bool</span> render_in=<span class="keyword">false</span>);
<a name="l00198"></a>00198   <span class="keywordtype">bool</span> moveIt(<a class="code" href="classcartesian_grasp_direction.html" title="This class is used when the palm position and direction are expressed in cartesian...">cartesianGraspDirection</a> gd, <span class="keywordtype">bool</span> render_in=<span class="keyword">false</span>);
<a name="l00199"></a>00199   
<a name="l00200"></a>00200   <span class="comment">//  int  moveTo(transf); </span>
<a name="l00201"></a>00201   <span class="keywordtype">bool</span> checkContactToHand(<a class="code" href="class_graspable_body.html" title="Used for dynamic bodies that are not part of a robot.">GraspableBody</a>* gb);
<a name="l00202"></a>00202   <span class="keywordtype">void</span> orderGraspListByQuality(std::list&lt;plannedGrasp*&gt;&amp; grl);
<a name="l00203"></a>00203   <span class="keywordtype">void</span> saveGrasp(<span class="keywordtype">double</span> quality);
<a name="l00204"></a>00204   
<a name="l00205"></a>00205   <span class="keywordtype">void</span> updateGlobals();
<a name="l00206"></a>00206   <span class="keywordtype">void</span> savePosition(<a class="code" href="classplanned_grasp.html" title="This class represents a single candidate grasp for the grasp planner.">plannedGrasp</a>&amp; pg);
<a name="l00207"></a>00207   <span class="keywordtype">bool</span> handCollision();
<a name="l00208"></a>00208   
<a name="l00209"></a>00209   <span class="keywordtype">bool</span> iteration(<a class="code" href="classplanned_grasp.html" title="This class represents a single candidate grasp for the grasp planner.">plannedGrasp</a>&amp; pg);
<a name="l00210"></a>00210   <span class="keyword">static</span> <span class="keywordtype">void</span> testItCB(<span class="keywordtype">void</span> *,SoSensor *sensor);
<a name="l00211"></a>00211   <span class="keywordtype">void</span> testIt();
<a name="l00212"></a>00212   
<a name="l00213"></a>00213 signals:
<a name="l00215"></a>00215   <span class="keywordtype">void</span> <a class="code" href="classgrasp__tester.html#9791b2d3e5e90685504b5349eaacea7a">testingComplete</a>();
<a name="l00216"></a>00216   
<a name="l00217"></a>00217 <span class="keyword">public</span>:
<a name="l00218"></a>00218   <a class="code" href="classgrasp__tester.html#d5e19ad1fd65bdfeae5a58a00d601907">grasp_tester</a>();
<a name="l00219"></a>00219   <a class="code" href="classgrasp__tester.html#5fa0b5f60b50dbbd2e35755a326097a8">~grasp_tester</a>();
<a name="l00220"></a>00220   
<a name="l00221"></a>00221   <span class="keywordtype">void</span> <a class="code" href="classgrasp__tester.html#aebb486a09f84263a837ebd2a1958c30">setupGraspVisWindow</a>(<a class="code" href="class_graspable_body.html" title="Used for dynamic bodies that are not part of a robot.">GraspableBody</a>* myBody,SoGroup *prim);
<a name="l00222"></a>00222   <span class="keywordtype">void</span> <a class="code" href="classgrasp__tester.html#59404a1246ae05f197febb0a1d7528f7">visualizePlannedGrasps</a>(std::list&lt;plannedGrasp*&gt; grList);
<a name="l00223"></a>00223   <span class="keywordtype">bool</span> <a class="code" href="classgrasp__tester.html#b200507d8607eabf3d88d6e9c064a981">callTestIt</a>(std::list&lt;plannedGrasp*&gt;&amp; graspList_in, <span class="keywordtype">bool</span> render_in);
<a name="l00224"></a>00224   
<a name="l00225"></a>00225   <span class="keywordtype">bool</span> <a class="code" href="classgrasp__tester.html#a819ed61f5da1b3b912a2eabb9773953">set_testingParameters</a>(<span class="keywordtype">int</span> itStepNr, <span class="keywordtype">double</span> stepSize);
<a name="l00226"></a>00226   <span class="keywordtype">void</span> <a class="code" href="classgrasp__tester.html#13988bb9085ae762d58a67d54dde5fb5">get_testingParameters</a>(<span class="keywordtype">int</span>&amp; itStepNr, <span class="keywordtype">double</span>&amp; stepSize);
<a name="l00227"></a>00227 
<a name="l00229"></a><a class="code" href="classgrasp__tester.html#51c138837810992ce989a136cea91be1">00229</a>   <span class="keywordtype">void</span> <a class="code" href="classgrasp__tester.html#51c138837810992ce989a136cea91be1">useQM</a>(<span class="keywordtype">int</span> qmNum) {whichQM = qmNum;}
<a name="l00230"></a>00230 
<a name="l00231"></a>00231   <span class="keywordtype">void</span> <a class="code" href="classgrasp__tester.html#c25bd3872e19cebcbb703435c2960cb4">saveGraspsToFile</a>(<span class="keyword">const</span> QString&amp; filename,<span class="keywordtype">bool</span> append);
<a name="l00232"></a>00232   <span class="keywordtype">void</span> <a class="code" href="classgrasp__tester.html#42ee2bcad42de44aab0e0366980452c1">continueTests</a>();
<a name="l00233"></a>00233   <span class="keywordtype">void</span> <a class="code" href="classgrasp__tester.html#fddbe6d3f83f8d842c015d4c2b167519">pauseTests</a>();
<a name="l00234"></a>00234   
<a name="l00235"></a>00235   <span class="comment">//   struct timeval get_computingTime();</span>
<a name="l00236"></a>00236 };
<a name="l00237"></a>00237 
<a name="l00238"></a>00238 
<a name="l00239"></a>00239 <span class="preprocessor">#endif</span>
<a name="l00240"></a>00240 <span class="preprocessor"></span>
<a name="l00241"></a>00241 <span class="comment">/******************</span>
<a name="l00242"></a>00242 <span class="comment">   Local Variables:</span>
<a name="l00243"></a>00243 <span class="comment">   mode:c++</span>
<a name="l00244"></a>00244 <span class="comment">   End:</span>
<a name="l00245"></a>00245 <span class="comment">******************/</span>
<a name="l00246"></a>00246 
<a name="l00247"></a>00247 
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Jul 24 16:39:07 2009 for Graspit by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
