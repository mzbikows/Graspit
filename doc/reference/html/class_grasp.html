<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Graspit: Grasp Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Grasp Class Reference</h1><!-- doxytag: class="Grasp" -->A grasp occurs between a hand and an object and has quality measures associated with it.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="include_2grasp_8h-source.html">grasp.h</a>&gt;</code>
<p>
<div class="dynheader">
Inheritance diagram for Grasp:</div>
<div class="dynsection">

<p><center><img src="class_grasp.png" usemap="#Grasp_map" border="0" alt=""></center>
<map name="Grasp_map">
<area href="class_mc_grip_grasp.html" alt="McGripGrasp" shape="rect" coords="0,56,88,80">
</map>
</div>

<p>
<a href="class_grasp-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Signals</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="52e8c42c5a8c273f6e023bc673291ea8"></a><!-- doxytag: member="Grasp::graspUpdated" ref="52e8c42c5a8c273f6e023bc673291ea8" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#52e8c42c5a8c273f6e023bc673291ea8">graspUpdated</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called when contacts have changes and the wrench spaces need to be updated. <br></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#8b3a0df55bf1ef8ce81eff2e62470526">Grasp</a> (<a class="el" href="class_hand.html">Hand</a> *h)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#81d13d058cc7c75da1ba8fb69852676c">~Grasp</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#3694320d59a76a6958ec9b57d9117dae">isValid</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#dd2adb78e364e99ec07f93583c598f6d">getNumQM</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_graspable_body.html">GraspableBody</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#30923de5c5e31c259af86f0cb72435a5">getObject</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#28a012f91487d9d94b0f02de4f8388fd">getNumContacts</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_contact.html">Contact</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#40c8cb508e8e380bd3fdef378e93a7cc">getContact</a> (int i) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="88e5acee82a572567a454f930dcce1b7"></a><!-- doxytag: member="Grasp::getMinWrench" ref="88e5acee82a572567a454f930dcce1b7" args="(double *w) const " -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>getMinWrench</b> (double *w) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ffd337a16ee73e19613bed4016ec30dd"></a><!-- doxytag: member="Grasp::setMinWrench" ref="ffd337a16ee73e19613bed4016ec30dd" args="(double *w)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>setMinWrench</b> (double *w)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#268c617b68d97a96da03450c92a16858">setObject</a> (<a class="el" href="class_graspable_body.html">GraspableBody</a> *g)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="606fef13eba2cef08f30f46f39b856fc"></a><!-- doxytag: member="Grasp::setObjectNoUpdate" ref="606fef13eba2cef08f30f46f39b856fc" args="(GraspableBody *g)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>setObjectNoUpdate</b> (<a class="el" href="class_graspable_body.html">GraspableBody</a> *g)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#0fa40f0a5923e197a3ac5a6a0bfe5d70">collectContacts</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Collects all the contacts between the hand and the object in an internal list.  <a href="#0fa40f0a5923e197a3ac5a6a0bfe5d70"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#5b10deb7c89bd1553f3bd373e288fe2a">collectVirtualContacts</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Collects all the virtual contacts on the hand n an internal list.  <a href="#5b10deb7c89bd1553f3bd373e288fe2a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#464eae50c15028f77db7a9d569ca8754">collectVirtualContactsOnObject</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Collect all the virtual contacts on the object.  <a href="#464eae50c15028f77db7a9d569ca8754"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#fb7ae6eef72e3776866ea57b36189e2b">update</a> (std::vector&lt; int &gt; useDimensions=<a class="el" href="class_grasp.html#8843212f64a1ff80bc112284b2cdec2f">ALL_DIMENSIONS</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Collects all the contacts in the internal list and updates the wrench spaces.  <a href="#fb7ae6eef72e3776866ea57b36189e2b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#2d31341ea2de9e48c886ea472c87d364">updateWrenchSpaces</a> (std::vector&lt; int &gt; useDimensions=<a class="el" href="class_grasp.html#8843212f64a1ff80bc112284b2cdec2f">ALL_DIMENSIONS</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Updates (re-computes) the wrench spaces of this grasp and all of their projections.  <a href="#2d31341ea2de9e48c886ea472c87d364"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="f36377bb3c16890a7c7e5f19e87cfdeb"></a><!-- doxytag: member="Grasp::getMaxRadius" ref="f36377bb3c16890a7c7e5f19e87cfdeb" args="()" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#f36377bb3c16890a7c7e5f19e87cfdeb">getMaxRadius</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the max radius used in <a class="el" href="class_g_w_s.html" title="An abstract base class for 6D grasp wrench spaces.">GWS</a> computations, either from the object of from virtual contacts. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="0c9b6752d8372d423ff899afa34f8926"></a><!-- doxytag: member="Grasp::getCoG" ref="0c9b6752d8372d423ff899afa34f8926" args="()" -->
<a class="el" href="classposition.html">position</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#0c9b6752d8372d423ff899afa34f8926">getCoG</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the c.o.g. used in <a class="el" href="class_g_w_s.html" title="An abstract base class for 6D grasp wrench spaces.">GWS</a> computations, either from the object of from virtual contacts. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_g_w_s.html">GWS</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#91eb4f1cd43fe8803f34cca5578df233">addGWS</a> (const char *type)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds a <a class="el" href="class_g_w_s.html" title="An abstract base class for 6D grasp wrench spaces.">GWS</a> of a given type to the grasp, unless one exists already.  <a href="#91eb4f1cd43fe8803f34cca5578df233"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_g_w_s.html">GWS</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#9e8d4cda13f5c7608bb027b9d4d3ab9e">getGWS</a> (const char *type)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#7b440761b2e78fcdccf30cd3d827ccbe">removeGWS</a> (<a class="el" href="class_g_w_s.html">GWS</a> *gws)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Decrements the reference count on a <a class="el" href="class_g_w_s.html" title="An abstract base class for 6D grasp wrench spaces.">GWS</a> of the given type, and deletes it if the ref count reaches 0.  <a href="#7b440761b2e78fcdccf30cd3d827ccbe"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#afd27d0861c4901cc1474acbf6d82f4c">addQM</a> (<a class="el" href="class_quality_measure.html">QualityMeasure</a> *qm)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds a quality measure to this grasp.  <a href="#afd27d0861c4901cc1474acbf6d82f4c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#145c1b7a2b183f1561846031397b184e">replaceQM</a> (int which, <a class="el" href="class_quality_measure.html">QualityMeasure</a> *qm)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Replaces a QM in the list associated with this grasp with another QM.  <a href="#145c1b7a2b183f1561846031397b184e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_quality_measure.html">QualityMeasure</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#677a7b66c2a0d5b836e49395e8f473f3">getQM</a> (int which)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns one of the quality measures that have been associated with this grasp.  <a href="#677a7b66c2a0d5b836e49395e8f473f3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#d9682ff99eee3460f5e57928aa9019b1">removeQM</a> (int which)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Removes a quality measure that has been associated with this grasp.  <a href="#d9682ff99eee3460f5e57928aa9019b1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#604905bfefffe352cc10aba6cb2ea2af">addProjection</a> (<a class="el" href="class_g_w_sprojection.html">GWSprojection</a> *gp)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#11fc812812018f56e03c9e160423ead8">removeProjection</a> (<a class="el" href="class_g_w_sprojection.html">GWSprojection</a> *gp)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="0623096aeb3154bd666c53f9d0596318"></a><!-- doxytag: member="Grasp::setGravity" ref="0623096aeb3154bd666c53f9d0596318" args="(bool g)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#0623096aeb3154bd666c53f9d0596318">setGravity</a> (bool g)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets whether QM's should take gravity into account; not very thoroughly tested yet. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="bb49891ed305d67ca151b34f8f02be66"></a><!-- doxytag: member="Grasp::isGravitySet" ref="bb49891ed305d67ca151b34f8f02be66" args="()" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>isGravitySet</b> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#2641e7d7ad67f5d961acc2adb340ef51">computeQuasistaticForcesAndTorques</a> (<a class="el" href="class_matrix.html">Matrix</a> *robotTau)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Computes the contact forces and joint torques that give the most robust equilibrium.  <a href="#2641e7d7ad67f5d961acc2adb340ef51"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#891931a92ba810884c656761da99b199">computeQuasistaticForces</a> (const <a class="el" href="class_matrix.html">Matrix</a> &amp;robotTau)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Given a vector of joint torques, computes the contact forces that balance the system.  <a href="#891931a92ba810884c656761da99b199"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_matrix.html">Matrix</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#7bf3228afbc036bcabe1852025daab60">contactJacobian</a> (const std::list&lt; <a class="el" href="class_joint.html">Joint</a> * &gt; &amp;joints, const std::list&lt; <a class="el" href="class_contact.html">Contact</a> * &gt; &amp;contacts)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A version of the contact grasp Jacobian, used for GFO routines.  <a href="#7bf3228afbc036bcabe1852025daab60"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#2be5d588704912962bd102801730825f">displayContactWrenches</a> (std::list&lt; <a class="el" href="class_contact.html">Contact</a> * &gt; *contacts, const <a class="el" href="class_matrix.html">Matrix</a> &amp;contactWrenches)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets local contact wrenches into the contact wrench slots so they can be rendered.  <a href="#2be5d588704912962bd102801730825f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#6e910e2f65717b584fc32c7d98d01a49">accumulateAndDisplayObjectWrenches</a> (std::list&lt; <a class="el" href="class_contact.html">Contact</a> * &gt; *contacts, const <a class="el" href="class_matrix.html">Matrix</a> &amp;objectWrenches)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Accumulates object wrenches in the external wrench accumulator for the objects.  <a href="#6e910e2f65717b584fc32c7d98d01a49"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#2885d8b4fd0d8f3a2a4f0b67441c24d5">destroyProjection</a> (void *user, SoQtComponent *component)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="class_matrix.html">Matrix</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#9b901db38ecc7b28e81fb09c17a98f2b">graspMapMatrix</a> (const <a class="el" href="class_matrix.html">Matrix</a> &amp;R, const <a class="el" href="class_matrix.html">Matrix</a> &amp;D)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Computes the grasp map matrix G from friction and normal force matrices R and D.  <a href="#9b901db38ecc7b28e81fb09c17a98f2b"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Static Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static const std::vector&lt; int &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#8843212f64a1ff80bc112284b2cdec2f">ALL_DIMENSIONS</a> = std::vector&lt;int&gt;(6, 1)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Default option for building a <a class="el" href="class_g_w_s.html" title="An abstract base class for 6D grasp wrench spaces.">GWS</a> on all 6 dimensions.  <a href="#8843212f64a1ff80bc112284b2cdec2f"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">double *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#2b84075d28cd941033fbe34e93848e46">getLinkJacobian</a> (int f, int l)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Computes the Jacobian of a link wrt the base of the finger, in link <a class="el" href="classcoordinates.html" title="This is the base class for various coordinate representations.">coordinates</a>.  <a href="#2b84075d28cd941033fbe34e93848e46"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#4e6bae414d62751b7a01b20908bdf7aa">setVirtualCentroid</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the reference point that is used for grasp wrench computations as the center of the virtual contacts.  <a href="#4e6bae414d62751b7a01b20908bdf7aa"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="54e869da17904c37732acbf06b297abe"></a><!-- doxytag: member="Grasp::virtualCentroid" ref="54e869da17904c37732acbf06b297abe" args="()" -->
<a class="el" href="classvec3.html">vec3</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#54e869da17904c37732acbf06b297abe">virtualCentroid</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Computes the virtual center of the internally assembled list of virtual contacts. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#e59d18a3dd964368c5ab5c017c166114">setRealCentroid</a> (<a class="el" href="class_graspable_body.html">GraspableBody</a> *body)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the reference points of all virtual contacts using the c.o.g of the given object.  <a href="#e59d18a3dd964368c5ab5c017c166114"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="54f0ef8cb8d99d0c2a52d2d02030cde7"></a><!-- doxytag: member="Grasp::hand" ref="54f0ef8cb8d99d0c2a52d2d02030cde7" args="" -->
<a class="el" href="class_hand.html">Hand</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#54f0ef8cb8d99d0c2a52d2d02030cde7">hand</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A pointer to the hand that owns this grasp object. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="432af4c7492d961bd84cacf614497f52"></a><!-- doxytag: member="Grasp::object" ref="432af4c7492d961bd84cacf614497f52" args="" -->
<a class="el" href="class_graspable_body.html">GraspableBody</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#432af4c7492d961bd84cacf614497f52">object</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A pointer to the object that is the focus of this grasp. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="0011c670f4b9f602cc4b90aa3e18f843"></a><!-- doxytag: member="Grasp::valid" ref="0011c670f4b9f602cc4b90aa3e18f843" args="" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#0011c670f4b9f602cc4b90aa3e18f843">valid</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><code>TRUE</code> if the grasp has been updated since the last time the contacts changed <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="2c46b1b3099789c63cae0a2c57ddb76b"></a><!-- doxytag: member="Grasp::gwsList" ref="2c46b1b3099789c63cae0a2c57ddb76b" args="" -->
std::list&lt; <a class="el" href="class_g_w_s.html">GWS</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#2c46b1b3099789c63cae0a2c57ddb76b">gwsList</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A list of pointers to the associated grasp wrench spaces. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="aaf34fcf9a64e1b853f7c96872a370c6"></a><!-- doxytag: member="Grasp::qmList" ref="aaf34fcf9a64e1b853f7c96872a370c6" args="" -->
std::list&lt; <a class="el" href="class_quality_measure.html">QualityMeasure</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#aaf34fcf9a64e1b853f7c96872a370c6">qmList</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A list of pointers to the associated quality measures. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="23046b959af9a98a71c7b6f6c0d1ba9a"></a><!-- doxytag: member="Grasp::projectionList" ref="23046b959af9a98a71c7b6f6c0d1ba9a" args="" -->
std::list&lt; <a class="el" href="class_g_w_sprojection.html">GWSprojection</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#23046b959af9a98a71c7b6f6c0d1ba9a">projectionList</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A list of pointer to the associated grasp wrench space projections. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="0b7be5763b1b8c2bbce0c4748ce2db1d"></a><!-- doxytag: member="Grasp::numQM" ref="0b7be5763b1b8c2bbce0c4748ce2db1d" args="" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#0b7be5763b1b8c2bbce0c4748ce2db1d">numQM</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Number of quality meausre in the list. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="8cff1fc702589f54ef837ac5361de90f"></a><!-- doxytag: member="Grasp::contactVec" ref="8cff1fc702589f54ef837ac5361de90f" args="" -->
std::vector&lt; <a class="el" href="class_contact.html">Contact</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#8cff1fc702589f54ef837ac5361de90f">contactVec</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A vector of pointers to the contacts on the object where it touches the hand. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="8e0f3147885818ea418e2d2a2ff4a782"></a><!-- doxytag: member="Grasp::numContacts" ref="8e0f3147885818ea418e2d2a2ff4a782" args="" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#8e0f3147885818ea418e2d2a2ff4a782">numContacts</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Number of grasp contacts. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b07f92593fb5d6da6e67c065b5b03e57"></a><!-- doxytag: member="Grasp::minWrench" ref="b07f92593fb5d6da6e67c065b5b03e57" args="[6]" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#b07f92593fb5d6da6e67c065b5b03e57">minWrench</a> [6]</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Minimum grasp wrench that can be applied given contact forces that sum to 1. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="3d501e05780cb5f7e51f7a8936c45b7f"></a><!-- doxytag: member="Grasp::useGravity" ref="3d501e05780cb5f7e51f7a8936c45b7f" args="" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#3d501e05780cb5f7e51f7a8936c45b7f">useGravity</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Tells us if quality metrics should take into account gravity. <br></td></tr>
<tr><td colspan="2"><br><h2>Friends</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="da3c0c346e85f98253ac4e01fe6b2bd1"></a><!-- doxytag: member="Grasp::LMIOptimizer" ref="da3c0c346e85f98253ac4e01fe6b2bd1" args="" -->
class&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#da3c0c346e85f98253ac4e01fe6b2bd1">LMIOptimizer</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="47f069f76589969705ec0db98cc3885c"></a><!-- doxytag: member="Grasp::QMDlg" ref="47f069f76589969705ec0db98cc3885c" args="" -->
class&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grasp.html#47f069f76589969705ec0db98cc3885c">QMDlg</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
A grasp occurs between a hand and an object and has quality measures associated with it. 
<p>
Each hand object has a grasp associated with it, and the grasp occurs between the hand and a graspableBody. Each grasp is incharge of maintaining a set of computed grasp wrench spaces, which are then used by various quality measures. When contacts change between the two, the grasp is updated, meaning each grasp wrench space associated with the grasp is rebuilt, as well as any grasp wrench space projections. All grasp quality measures are also re-evaluated.<p>
The grasp wrench spaces are designed to be shared by different quality metrics. When a new metric is added, if a <a class="el" href="class_g_w_s.html" title="An abstract base class for 6D grasp wrench spaces.">GWS</a> of the needed type already exists in the list maintained by thhis grasp, the new QM will use it, and a reference count on the <a class="el" href="class_g_w_s.html" title="An abstract base class for 6D grasp wrench spaces.">GWS</a> is increased. <a class="el" href="class_g_w_s.html" title="An abstract base class for 6D grasp wrench spaces.">GWS</a> are automatically deleted when no QM that needs them exist anymore.<p>
A grasp can also perform many of the same services on set of VirtualCotacts (see documentation of that class for details). This part however has not neen competely tested, and might produce behavior that is not entirely consistent with how it handles traditional contacts.<p>
This class also provides the mechanism for performing <a class="el" href="class_grasp.html" title="A grasp occurs between a hand and an object and has quality measures associated with...">Grasp</a> Force Optimization (GFO) computations using a Quadratic Program (QP) formulation. There are many variants of this computation; some of them are already written. You can generally mix and match between optimization criteria and constraints in any way you want. A good starting point is the computeQuasistaticForcesAndTorques(...) function. <hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="8b3a0df55bf1ef8ce81eff2e62470526"></a><!-- doxytag: member="Grasp::Grasp" ref="8b3a0df55bf1ef8ce81eff2e62470526" args="(Hand *h)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Grasp::Grasp           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_hand.html">Hand</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize grasp object variables. A grasp should only be created by a hand constructor, which passes a pointer to itself. 
</div>
</div><p>
<a class="anchor" name="81d13d058cc7c75da1ba8fb69852676c"></a><!-- doxytag: member="Grasp::~Grasp" ref="81d13d058cc7c75da1ba8fb69852676c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Grasp::~Grasp           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Deletes all quality measures, grasps wrench spaces, and projections associated with this grasp. Frees all of the dynamically allocated vectors and matrics used for GFO. 
</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="6e910e2f65717b584fc32c7d98d01a49"></a><!-- doxytag: member="Grasp::accumulateAndDisplayObjectWrenches" ref="6e910e2f65717b584fc32c7d98d01a49" args="(std::list&lt; Contact * &gt; *contacts, const Matrix &amp;objectWrenches)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Grasp::accumulateAndDisplayObjectWrenches           </td>
          <td>(</td>
          <td class="paramtype">std::list&lt; <a class="el" href="class_contact.html">Contact</a> * &gt; *&nbsp;</td>
          <td class="paramname"> <em>contacts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_matrix.html">Matrix</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>objectWrenches</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Accumulates object wrenches in the external wrench accumulator for the objects. 
<p>
This is a helper function for grasp force optimization routines. Given a set of contacts, and a matrix of contact wrenches expressed in *world* <a class="el" href="classcoordinates.html" title="This is the base class for various coordinate representations.">coordinates</a> and relative to object origin (as computed in gfo routines) this function will convert them to object coordinate system and accumulate them in the object's external wrench accumulator. This can serve as an output of the gfo functions and also for rendering purposes, as the external wrench accumulator can then be rendered. 
</div>
</div><p>
<a class="anchor" name="91eb4f1cd43fe8803f34cca5578df233"></a><!-- doxytag: member="Grasp::addGWS" ref="91eb4f1cd43fe8803f34cca5578df233" args="(const char *type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_g_w_s.html">GWS</a> * Grasp::addGWS           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>type</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Adds a <a class="el" href="class_g_w_s.html" title="An abstract base class for 6D grasp wrench spaces.">GWS</a> of a given type to the grasp, unless one exists already. 
<p>
Creates a new <a class="el" href="class_g_w_s.html" title="An abstract base class for 6D grasp wrench spaces.">GWS</a> of type <em>type</em> and adds it to the list of GWS's associated with this grasp if it does not exist already. Current possible types of GWS's are "L1 Norm", and "LInfinity Norm". Returns a pointer to a gws of the requested type that was either created or found. 
</div>
</div><p>
<a class="anchor" name="604905bfefffe352cc10aba6cb2ea2af"></a><!-- doxytag: member="Grasp::addProjection" ref="604905bfefffe352cc10aba6cb2ea2af" args="(GWSprojection *gp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Grasp::addProjection           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_g_w_sprojection.html">GWSprojection</a> *&nbsp;</td>
          <td class="paramname"> <em>gp</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add a grasp wrench space projection to the grasp's list of projections. 
</div>
</div><p>
<a class="anchor" name="afd27d0861c4901cc1474acbf6d82f4c"></a><!-- doxytag: member="Grasp::addQM" ref="afd27d0861c4901cc1474acbf6d82f4c" args="(QualityMeasure *qm)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Grasp::addQM           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_quality_measure.html">QualityMeasure</a> *&nbsp;</td>
          <td class="paramname"> <em>qm</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Adds a quality measure to this grasp. 
<p>
Adds the quality measure to the grasp's list of quality measures. 
</div>
</div><p>
<a class="anchor" name="0fa40f0a5923e197a3ac5a6a0bfe5d70"></a><!-- doxytag: member="Grasp::collectContacts" ref="0fa40f0a5923e197a3ac5a6a0bfe5d70" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Grasp::collectContacts           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Collects all the contacts between the hand and the object in an internal list. 
<p>
Gathers the contacts on all links of the hand that are mated with contacts on the grasped object and adds them to the contactVec.<p>
It also collects all contacts from hands attached to this one, and treats all of them as one big grasp. This allows us to do grasp analysis for complex robots, such as the <a class="el" href="class_m7.html">M7</a>, which has manipulators attached at the end of the arms. If you want to do grasp analysis just for the contacts on one of the manipulators, use the instance of <a class="el" href="class_grasp.html" title="A grasp occurs between a hand and an object and has quality measures associated with...">Grasp</a> of that particular hand. 
</div>
</div><p>
<a class="anchor" name="5b10deb7c89bd1553f3bd373e288fe2a"></a><!-- doxytag: member="Grasp::collectVirtualContacts" ref="5b10deb7c89bd1553f3bd373e288fe2a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Grasp::collectVirtualContacts           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Collects all the virtual contacts on the hand n an internal list. 
<p>
Gathers the virtual contacts on all links of the hand and adds them to the internal list in contactVec. Any <a class="el" href="class_g_w_s.html" title="An abstract base class for 6D grasp wrench spaces.">GWS</a> computations should then be able to proceed regardless of the fact that these are virtual contacts. However, since we might not have an object, information about the centroid to be used as reference point, and the max radius used for converting torques, are also computed and stored in the virtual contacts themselves. 
</div>
</div><p>
<a class="anchor" name="464eae50c15028f77db7a9d569ca8754"></a><!-- doxytag: member="Grasp::collectVirtualContactsOnObject" ref="464eae50c15028f77db7a9d569ca8754" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Grasp::collectVirtualContactsOnObject           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Collect all the virtual contacts on the object. 
<p>
When we are dealing with an object but no hand, gathers the virtual contacts from the object and adds them to the contactVec, doing the same thing as <a class="el" href="class_grasp.html#0fa40f0a5923e197a3ac5a6a0bfe5d70" title="Collects all the contacts between the hand and the object in an internal list.">collectContacts()</a> and <a class="el" href="class_grasp.html#5b10deb7c89bd1553f3bd373e288fe2a" title="Collects all the virtual contacts on the hand n an internal list.">collectVirtualContacts()</a> do for the hand-and-object and the hand-only cases. 
</div>
</div><p>
<a class="anchor" name="891931a92ba810884c656761da99b199"></a><!-- doxytag: member="Grasp::computeQuasistaticForces" ref="891931a92ba810884c656761da99b199" args="(const Matrix &amp;robotTau)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Grasp::computeQuasistaticForces           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_matrix.html">Matrix</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>robotTau</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Given a vector of joint torques, computes the contact forces that balance the system. 
<p>
One possible version of the GFO problem.<p>
Given a matrix of joint torques applied to the robot joints, this will check if there exists a set of legal contact forces that balance them. If so, it will compute the set of contact forces that adds up to the wrench of least magnitude on the object.<p>
For now, this output of this function is to set the computed contact forces on each contact as dynamic forces, and also to accumulate the resulting wrench on the object in its external wrench accumulator.<p>
Return codes: 0 is success, &gt;0 means finger slip, no legal contact forces exist; &lt;0 means error in computation 
</div>
</div><p>
<a class="anchor" name="2641e7d7ad67f5d961acc2adb340ef51"></a><!-- doxytag: member="Grasp::computeQuasistaticForcesAndTorques" ref="2641e7d7ad67f5d961acc2adb340ef51" args="(Matrix *robotTau)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Grasp::computeQuasistaticForcesAndTorques           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_matrix.html">Matrix</a> *&nbsp;</td>
          <td class="paramname"> <em>robotTau</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Computes the contact forces and joint torques that give the most robust equilibrium. 
<p>
This function is the equivalent of the <a class="el" href="class_grasp.html" title="A grasp occurs between a hand and an object and has quality measures associated with...">Grasp</a> Force Optimization, but done with the quasi-static formulation cast as a Quadratic Program.<p>
It will attempt to compute both the feasible contact forces and joint torques that produce a 0 resultant wrench on the object, and keep the contact forces as far as possible from the boundaries of the friction cones. This implicitly assumes that the grasp has form-closure, in other words, some combination of legal contact forces exists that produces 0 wrench on the object.<p>
There might exist cases of grasps that are reported as form-closed where this function fails, as this function also asks that the contact forces that balance the object must be possible to apply from actuated DOF's.<p>
For now, this function displays the computed contact forces on the contacts, rather than returning them. It also copies the computed joint forces in the matrix <em>robotTau</em> which is assumed to be large enough for all the joints of the robot and use the robot's numbering scheme.<p>
Return codes: 0 is success, &gt;0 means problem is unfeasible, no equilibrium forces exist; &lt;0 means error in computation 
</div>
</div><p>
<a class="anchor" name="7bf3228afbc036bcabe1852025daab60"></a><!-- doxytag: member="Grasp::contactJacobian" ref="7bf3228afbc036bcabe1852025daab60" args="(const std::list&lt; Joint * &gt; &amp;joints, const std::list&lt; Contact * &gt; &amp;contacts)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_matrix.html">Matrix</a> Grasp::contactJacobian           </td>
          <td>(</td>
          <td class="paramtype">const std::list&lt; <a class="el" href="class_joint.html">Joint</a> * &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>joints</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::list&lt; <a class="el" href="class_contact.html">Contact</a> * &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>contacts</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
A version of the contact grasp Jacobian, used for GFO routines. 
<p>
Computes the contact jacobian J. J relates joint angle motion to contact motion. Its transpose, JT, relates contact forces to joint forces.<p>
The joints and the contacts must both be passed in. Their order in the incoming vectors will determine their indices in the Jacobian. This function will make sure that only the right joints affect each contact: joints that come before the link in contact, on the same chain.<p>
The Jacobian is ALWAYS computed in the local coordinate system of each contact. When multiplied by joint torques, it will thus yield contact forces and torques in the local contact coordinate system of each contact. It is easy to do computations in world <a class="el" href="classcoordinates.html" title="This is the base class for various coordinate representations.">coordinates</a> too, but then it is impossible to discards rows that correspond to directions that the contact can not apply force or torque in. 
</div>
</div><p>
<a class="anchor" name="2885d8b4fd0d8f3a2a4f0b67441c24d5"></a><!-- doxytag: member="Grasp::destroyProjection" ref="2885d8b4fd0d8f3a2a4f0b67441c24d5" args="(void *user, SoQtComponent *component)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Grasp::destroyProjection           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SoQtComponent *&nbsp;</td>
          <td class="paramname"> <em>component</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This is the projection window close callback function. When the projection window is closed, this removes the associated <a class="el" href="class_g_w_sprojection.html" title="Produces an Inventor window with a 3-D projection of a GWS.">GWSprojection</a>. 
</div>
</div><p>
<a class="anchor" name="2be5d588704912962bd102801730825f"></a><!-- doxytag: member="Grasp::displayContactWrenches" ref="2be5d588704912962bd102801730825f" args="(std::list&lt; Contact * &gt; *contacts, const Matrix &amp;contactWrenches)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Grasp::displayContactWrenches           </td>
          <td>(</td>
          <td class="paramtype">std::list&lt; <a class="el" href="class_contact.html">Contact</a> * &gt; *&nbsp;</td>
          <td class="paramname"> <em>contacts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_matrix.html">Matrix</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>contactWrenches</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets local contact wrenches into the contact wrench slots so they can be rendered. 
<p>
This is a helper function for grasp force optimization routines. Given a set of contacts and a matrix of contact wrenches expressed in *local* contact <a class="el" href="classcoordinates.html" title="This is the base class for various coordinate representations.">coordinates</a>, it will set these wrenches in the dynamic wrench slot of the contacts for rendering purposes. 
</div>
</div><p>
<a class="anchor" name="40c8cb508e8e380bd3fdef378e93a7cc"></a><!-- doxytag: member="Grasp::getContact" ref="40c8cb508e8e380bd3fdef378e93a7cc" args="(int i) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_contact.html">Contact</a>* Grasp::getContact           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>i</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return a pointer to the i-th grasp contact on the object. 
</div>
</div><p>
<a class="anchor" name="9e8d4cda13f5c7608bb027b9d4d3ab9e"></a><!-- doxytag: member="Grasp::getGWS" ref="9e8d4cda13f5c7608bb027b9d4d3ab9e" args="(const char *type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_g_w_s.html">GWS</a> * Grasp::getGWS           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>type</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns a pointer to the <a class="el" href="class_g_w_s.html" title="An abstract base class for 6D grasp wrench spaces.">GWS</a> of type <em>type</em> if one exists. If one doesn't it returns NULL 
</div>
</div><p>
<a class="anchor" name="2b84075d28cd941033fbe34e93848e46"></a><!-- doxytag: member="Grasp::getLinkJacobian" ref="2b84075d28cd941033fbe34e93848e46" args="(int f, int l)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double * Grasp::getLinkJacobian           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>l</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Computes the Jacobian of a link wrt the base of the finger, in link <a class="el" href="classcoordinates.html" title="This is the base class for various coordinate representations.">coordinates</a>. 
<p>
Computes the jacobian for the base frame of link <em>l</em> on finger <em>f</em> relative to the base frame of the finger. This is wrt THE FRAME OF LINK!!!<p>
Distances USED TO BE converted to meters (check why this is...). Now they are kept in MILLIMETERS! 
</div>
</div><p>
<a class="anchor" name="28a012f91487d9d94b0f02de4f8388fd"></a><!-- doxytag: member="Grasp::getNumContacts" ref="28a012f91487d9d94b0f02de4f8388fd" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Grasp::getNumContacts           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return the number of grasp contacts. 
</div>
</div><p>
<a class="anchor" name="dd2adb78e364e99ec07f93583c598f6d"></a><!-- doxytag: member="Grasp::getNumQM" ref="dd2adb78e364e99ec07f93583c598f6d" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Grasp::getNumQM           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns whether the grasp force optimization problem is feasible.<p>
Returns the number of quality measures defined for this grasp. 
</div>
</div><p>
<a class="anchor" name="30923de5c5e31c259af86f0cb72435a5"></a><!-- doxytag: member="Grasp::getObject" ref="30923de5c5e31c259af86f0cb72435a5" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_graspable_body.html">GraspableBody</a>* Grasp::getObject           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return a pointer to the object that is the focus of this grasp. 
</div>
</div><p>
<a class="anchor" name="677a7b66c2a0d5b836e49395e8f473f3"></a><!-- doxytag: member="Grasp::getQM" ref="677a7b66c2a0d5b836e49395e8f473f3" args="(int which)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_quality_measure.html">QualityMeasure</a> * Grasp::getQM           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>which</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns one of the quality measures that have been associated with this grasp. 
<p>
Returns a pointer to the requested quality measure. <em>which</em> is the index of the qm to return, where 0 is the first qm in the list. 
</div>
</div><p>
<a class="anchor" name="9b901db38ecc7b28e81fb09c17a98f2b"></a><!-- doxytag: member="Grasp::graspMapMatrix" ref="9b901db38ecc7b28e81fb09c17a98f2b" args="(const Matrix &amp;R, const Matrix &amp;D)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_matrix.html">Matrix</a> Grasp::graspMapMatrix           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_matrix.html">Matrix</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>R</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_matrix.html">Matrix</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>D</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Computes the grasp map matrix G from friction and normal force matrices R and D. 
<p>
Computes the grasp map G. D is the matrix that relates friction edge amplitudes to contact force and R is the matrix that transorms contact forces to world coordinate system. We then need to sum all of them up by multiplication with a summation matrix to get the grasp map<p>
G = S R D<p>
G related friction edge amplitudes from all contacts to resultatnt object wrench. 
</div>
</div><p>
<a class="anchor" name="3694320d59a76a6958ec9b57d9117dae"></a><!-- doxytag: member="Grasp::isValid" ref="3694320d59a76a6958ec9b57d9117dae" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Grasp::isValid           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns whether the grasp has been updated since the last time grasp contacts have changed. 
</div>
</div><p>
<a class="anchor" name="7b440761b2e78fcdccf30cd3d827ccbe"></a><!-- doxytag: member="Grasp::removeGWS" ref="7b440761b2e78fcdccf30cd3d827ccbe" args="(GWS *gws)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Grasp::removeGWS           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_g_w_s.html">GWS</a> *&nbsp;</td>
          <td class="paramname"> <em>gws</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Decrements the reference count on a <a class="el" href="class_g_w_s.html" title="An abstract base class for 6D grasp wrench spaces.">GWS</a> of the given type, and deletes it if the ref count reaches 0. 
<p>
Given a pointer to the <a class="el" href="class_g_w_s.html" title="An abstract base class for 6D grasp wrench spaces.">GWS</a> to remove, this decrements the reference count for that <a class="el" href="class_g_w_s.html" title="An abstract base class for 6D grasp wrench spaces.">GWS</a>. If the reference count becomes 0, the <a class="el" href="class_g_w_s.html" title="An abstract base class for 6D grasp wrench spaces.">GWS</a> is deleted. 
</div>
</div><p>
<a class="anchor" name="11fc812812018f56e03c9e160423ead8"></a><!-- doxytag: member="Grasp::removeProjection" ref="11fc812812018f56e03c9e160423ead8" args="(GWSprojection *gp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Grasp::removeProjection           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_g_w_sprojection.html">GWSprojection</a> *&nbsp;</td>
          <td class="paramname"> <em>gp</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Removes a grasp wrench space projection from the list and deletes it. 
</div>
</div><p>
<a class="anchor" name="d9682ff99eee3460f5e57928aa9019b1"></a><!-- doxytag: member="Grasp::removeQM" ref="d9682ff99eee3460f5e57928aa9019b1" args="(int which)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Grasp::removeQM           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>which</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Removes a quality measure that has been associated with this grasp. 
<p>
Removes a quality measure from the list and deletes it. <em>which</em> is the index of the qm to remove, where 0 is the first qm in the list. 
</div>
</div><p>
<a class="anchor" name="145c1b7a2b183f1561846031397b184e"></a><!-- doxytag: member="Grasp::replaceQM" ref="145c1b7a2b183f1561846031397b184e" args="(int which, QualityMeasure *qm)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Grasp::replaceQM           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>which</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quality_measure.html">QualityMeasure</a> *&nbsp;</td>
          <td class="paramname"> <em>qm</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Replaces a QM in the list associated with this grasp with another QM. 
<p>
Replaces an existing quality measure with a new one and deletes the old one. <em>which</em> selects which qm to replace where the index of the first qm in the list is 0. 
</div>
</div><p>
<a class="anchor" name="268c617b68d97a96da03450c92a16858"></a><!-- doxytag: member="Grasp::setObject" ref="268c617b68d97a96da03450c92a16858" args="(GraspableBody *g)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Grasp::setObject           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_graspable_body.html">GraspableBody</a> *&nbsp;</td>
          <td class="paramname"> <em>g</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets graspableBody <em>g</em> to be the new focus of the grasp and updates the grasp. 
</div>
</div><p>
<a class="anchor" name="e59d18a3dd964368c5ab5c017c166114"></a><!-- doxytag: member="Grasp::setRealCentroid" ref="e59d18a3dd964368c5ab5c017c166114" args="(GraspableBody *body)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Grasp::setRealCentroid           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_graspable_body.html">GraspableBody</a> *&nbsp;</td>
          <td class="paramname"> <em>body</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets the reference points of all virtual contacts using the c.o.g of the given object. 
<p>
Assumes that all contacts are virtual, but we do have an object so we set its centroid (IN WORLD COORDINATES) and maxradius to all virtual contacts. 
</div>
</div><p>
<a class="anchor" name="4e6bae414d62751b7a01b20908bdf7aa"></a><!-- doxytag: member="Grasp::setVirtualCentroid" ref="4e6bae414d62751b7a01b20908bdf7aa" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Grasp::setVirtualCentroid           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets the reference point that is used for grasp wrench computations as the center of the virtual contacts. 
<p>
Assumes all the contacts in the list are virtual, and computes the centroid and max radius for the grasp based on these virtual contacts. 
</div>
</div><p>
<a class="anchor" name="fb7ae6eef72e3776866ea57b36189e2b"></a><!-- doxytag: member="Grasp::update" ref="fb7ae6eef72e3776866ea57b36189e2b" args="(std::vector&lt; int &gt; useDimensions=ALL_DIMENSIONS)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Grasp::update           </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; int &gt;&nbsp;</td>
          <td class="paramname"> <em>useDimensions</em> = <code><a class="el" href="class_grasp.html#8843212f64a1ff80bc112284b2cdec2f">ALL_DIMENSIONS</a></code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Collects all the contacts in the internal list and updates the wrench spaces. 
<p>
Updates the grasp by collecting all the current contacts on the hand and rebuilding any grasp wrench spaces and their projections. This is usually called after the contacts on the hand have changed.<p>
Also collects and uses any contacts on robots that are attached to this one. See <em><a class="el" href="class_grasp.html#0fa40f0a5923e197a3ac5a6a0bfe5d70" title="Collects all the contacts between the hand and the object in an internal list.">collectContacts()</a></em> for details.<p>
You can ask for the <a class="el" href="class_g_w_s.html" title="An abstract base class for 6D grasp wrench spaces.">GWS</a> to be built using only a subset of the 6 dimensions of force and torque normally available. These are, in this order:<p>
fx, fy, fz, tx, ty, tz<p>
If you want only a subset to be used, pass a vector of 6 ints with 1 for the dimensions you want or 0 for those that you do not want. For example, if you want a <a class="el" href="class_g_w_s.html" title="An abstract base class for 6D grasp wrench spaces.">GWS</a> that only uses fx, fy and tz, pass the following vector:<p>
1, 1, 0, 0, 0, 1<p>
If you want to use all 6 dimensions, pass the default value of <a class="el" href="class_grasp.html#8843212f64a1ff80bc112284b2cdec2f" title="Default option for building a GWS on all 6 dimensions.">Grasp::ALL_DIMENSIONS</a>.<p>
Note that the dimensions along which the <a class="el" href="class_g_w_s.html" title="An abstract base class for 6D grasp wrench spaces.">GWS</a> is built affects any subsequent projections that are created 
</div>
</div><p>
<a class="anchor" name="2d31341ea2de9e48c886ea472c87d364"></a><!-- doxytag: member="Grasp::updateWrenchSpaces" ref="2d31341ea2de9e48c886ea472c87d364" args="(std::vector&lt; int &gt; useDimensions=ALL_DIMENSIONS)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Grasp::updateWrenchSpaces           </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; int &gt;&nbsp;</td>
          <td class="paramname"> <em>useDimensions</em> = <code><a class="el" href="class_grasp.html#8843212f64a1ff80bc112284b2cdec2f">ALL_DIMENSIONS</a></code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Updates (re-computes) the wrench spaces of this grasp and all of their projections. 
<p>
See <a class="el" href="class_grasp.html#fb7ae6eef72e3776866ea57b36189e2b" title="Collects all the contacts in the internal list and updates the wrench spaces.">Grasp::update()</a> for details about <em>useDimensions</em> which affect the dimensions that are used to build the <a class="el" href="class_g_w_s.html" title="An abstract base class for 6D grasp wrench spaces.">GWS</a>. 
</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="8843212f64a1ff80bc112284b2cdec2f"></a><!-- doxytag: member="Grasp::ALL_DIMENSIONS" ref="8843212f64a1ff80bc112284b2cdec2f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt; int &gt; <a class="el" href="class_grasp.html#8843212f64a1ff80bc112284b2cdec2f">Grasp::ALL_DIMENSIONS</a> = std::vector&lt;int&gt;(6, 1)<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Default option for building a <a class="el" href="class_g_w_s.html" title="An abstract base class for 6D grasp wrench spaces.">GWS</a> on all 6 dimensions. 
<p>
This replicates <a class="el" href="class_g_w_s.html#f0ffc6a1802c5228ccecd9a732c6df67" title="Default option for building a GWS on all 6 dimensions.">GWS::ALL_DIMENSIONS</a>, but it was needed here too so that we don't have to give any caller access to <a class="el" href="class_g_w_s.html" title="An abstract base class for 6D grasp wrench spaces.">GWS</a>. 
</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>C:/Documents and Settings/cmatei/My Documents/GraspitVersions/Graspit-2-1/include/<a class="el" href="include_2grasp_8h-source.html">grasp.h</a><li>C:/Documents and Settings/cmatei/My Documents/GraspitVersions/Graspit-2-1/debug/moc_grasp.cpp<li>C:/Documents and Settings/cmatei/My Documents/GraspitVersions/Graspit-2-1/src/<a class="el" href="grasp_8cpp.html">grasp.cpp</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Jul 24 16:39:12 2009 for Graspit by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
