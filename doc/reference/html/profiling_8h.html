<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Graspit: C:/Documents and Settings/cmatei/My Documents/GraspitVersions/Graspit-2-1/include/profiling.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>C:/Documents and Settings/cmatei/My Documents/GraspitVersions/Graspit-2-1/include/profiling.h File Reference</h1><code>#include &lt;iostream&gt;</code><br>
<code>#include &lt;vector&gt;</code><br>
<code>#include &lt;string&gt;</code><br>
<code>#include &quot;assert.h&quot;</code><br>

<p>
<a href="profiling_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><b>Profiling::ProfileInstance</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><b>Profiling::Profiler</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><b>Profiling::FunctionTimer</b></td></tr>

<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a588f8ba04cb6b5e3a956e95015b5a3d"></a><!-- doxytag: member="profiling.h::PROF_DECLARE" ref="a588f8ba04cb6b5e3a956e95015b5a3d" args="(STR)" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>PROF_DECLARE</b>(STR)&nbsp;&nbsp;&nbsp;;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="eedfe8c948dfe87953c144b37fc476a1"></a><!-- doxytag: member="profiling.h::PROF_EXTERN" ref="eedfe8c948dfe87953c144b37fc476a1" args="(STR)" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>PROF_EXTERN</b>(STR)&nbsp;&nbsp;&nbsp;;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="2f77c1dcdc1f047578d546bda341f394"></a><!-- doxytag: member="profiling.h::PROF_RESET" ref="2f77c1dcdc1f047578d546bda341f394" args="(STR)" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>PROF_RESET</b>(STR)&nbsp;&nbsp;&nbsp;;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="82c87286b3ef49a0fd4a48a676e6626f"></a><!-- doxytag: member="profiling.h::PROF_RESET_ALL" ref="82c87286b3ef49a0fd4a48a676e6626f" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>PROF_RESET_ALL</b>&nbsp;&nbsp;&nbsp;;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a856f5e3d3850b0688de0934025b0787"></a><!-- doxytag: member="profiling.h::PROF_COUNT" ref="a856f5e3d3850b0688de0934025b0787" args="(STR)" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>PROF_COUNT</b>(STR)&nbsp;&nbsp;&nbsp;;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="f8449dba7d4810f8ffd5d7c237dd0723"></a><!-- doxytag: member="profiling.h::PROF_START_TIMER" ref="f8449dba7d4810f8ffd5d7c237dd0723" args="(STR)" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>PROF_START_TIMER</b>(STR)&nbsp;&nbsp;&nbsp;;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="90e029b00ddec655225378fc40791e2f"></a><!-- doxytag: member="profiling.h::PROF_STOP_TIMER" ref="90e029b00ddec655225378fc40791e2f" args="(STR)" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>PROF_STOP_TIMER</b>(STR)&nbsp;&nbsp;&nbsp;;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="2056052aedcac80732bf3fb142124ff7"></a><!-- doxytag: member="profiling.h::PROF_TIMER_FUNC" ref="2056052aedcac80732bf3fb142124ff7" args="(STR)" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>PROF_TIMER_FUNC</b>(STR)&nbsp;&nbsp;&nbsp;;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="4d28db2318cb5863b2156e2fe3e00a1c"></a><!-- doxytag: member="profiling.h::PROF_PRINT" ref="4d28db2318cb5863b2156e2fe3e00a1c" args="(STR)" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>PROF_PRINT</b>(STR)&nbsp;&nbsp;&nbsp;;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="f6cb58a98613d289a445d20d93aef322"></a><!-- doxytag: member="profiling.h::PROF_PRINT_ALL" ref="f6cb58a98613d289a445d20d93aef322" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>PROF_PRINT_ALL</b>&nbsp;&nbsp;&nbsp;;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="profiling_8h.html#3a206425f9cab93c58d2981b5624e304">UINT64</a>&nbsp;&nbsp;&nbsp;unsigned int</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="7a9a0093244289b5250547bb3bebcc6d"></a><!-- doxytag: member="profiling.h::PROF_GET_TIME" ref="7a9a0093244289b5250547bb3bebcc6d" args="(STR)" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>PROF_GET_TIME</b>(STR)&nbsp;&nbsp;&nbsp;assert(0);</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ca94afe7c8f04ecea5e57f3b0c1425d5"></a><!-- doxytag: member="profiling.h::PROF_CONVERT_TO_MICROS" ref="ca94afe7c8f04ecea5e57f3b0c1425d5" args="(RAW, MICROS)" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>PROF_CONVERT_TO_MICROS</b>(RAW, MICROS)&nbsp;&nbsp;&nbsp;assert(0);</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="1c60daedcbc2d1cb9d575eb31ffa386c"></a><!-- doxytag: member="profiling.h::getProfiler" ref="1c60daedcbc2d1cb9d575eb31ffa386c" args="()" -->
Profiler &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><b>Profiling::getProfiler</b> ()</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Implements a number of tools for simple, but easy to use and efficient code profiling. It should add a tiny overhead to the caller code, so it can be called lots of times.<p>
Usage example: ---------------------------- define PROF_ENABLED include "profiling.h"<p>
PROF_DECLARE(TOTAL_TIMER); PROF_DECLARE(FOO_TIMER);<p>
void foo() { PROF_TIMER_FUNC(FOO_TIMER); for (int i=0; i&lt;1000; i++) {} }<p>
int main(int, char**) {<p>
PROF_START_TIMER(TOTAL_TIMER); for (int i=0; i&lt;100000; i++) { for (int j=0; j&lt;2000; j++) {} foo(); } PROF_STOP_TIMER(TOTAL_TIMER);<p>
Total time in program PROF_PRINT(TOTAL_TIMER); Number of calls to and time spent in foo() function PROF_PRINT(FOO_TIMER);<p>
return 0; } -------------------------------<p>
Usage "manual":<p>
The main concept is a "timer", of which you can define as many as you want. When you define a timer, you associate a name with it, and then you can start it, stop it, print it, or have it time a particular function. Any timer will also double as a counter, and you can reset or increment its count whenever you want.<p>
<ul>
<li>
include "profiling.h" in any source file. </li>
<li>
to enable the profiler, also define PROF_ENABLED just before the include directive. To disable profiling, just remove the PROF_ENABLED definition and you can leave all the other profiler calls in, they will be pre-processed out. </li>
<li>
it is preferable to include your profiling definitions in source, not header files, so that the definition PROF_ENABLED doesn't propagate to unexpected places. </li>
</ul>
To declare a new timer, use:<p>
PROF_DECLARE(my_timer_name);<p>
This can be placed in any source file in your project. Just be sure to place timer declarations at the global scope (not inside of any functions). Don't worry about namespace pollution, everything profiler-related ends up in its own namespace behind the scenes.<p>
The name then becomes the unique identifier that you can refer to a timer through. The main feature of this framework is that you can use literal names, thus making it easy to use. However, behind the scenes they are converted into static ints and add no overhead when they need to be matched against timers. On the other hand, using any undeclared timer is caught at compile-time.<p>
To use the same timer in a different file than it was declared in, place an extern declaration in the file you use it in:<p>
PROF_EXTERN(my_timer_name);<p>
See below macros for what you can do with a timer. <hr><h2>Define Documentation</h2>
<a class="anchor" name="3a206425f9cab93c58d2981b5624e304"></a><!-- doxytag: member="profiling.h::UINT64" ref="3a206425f9cab93c58d2981b5624e304" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UINT64&nbsp;&nbsp;&nbsp;unsigned int          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
These functions read system time. Should have at least microsecond precision. They are different for Linux and Windows.<p>
We also need to convert the resulting time to a common unit, which we have chosen to be microseconds. Conversion is separate from read time, since we don't want to do it every time we read time, but only when we need to return it. 
</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Jul 24 16:39:09 2009 for Graspit by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
