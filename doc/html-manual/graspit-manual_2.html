<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- XML file produced from file: graspit-manual.tex
     using Hyperlatex v 2.9-in-waiting-rk (oct06) (c) Otfried Cheong
     on Emacs 22.1.1, Thu Jul 30 18:34:13 2009 -->
<head>
<title>GraspIt! User Manual -- 2 Installation</title>

<style type="text/css">
.maketitle { align : center }
div.abstract { margin-left: 20%; margin-right: 10%; }
h3.abstract  { align : center }
div.verse, div.quote, div.quotation {
  margin-left : 10%; 
  margin-right : 10%;
}
dt {font-weight: bold}
</style>
</p>
</head>
<body>
<table width="100%" cellpadding="0" cellspacing="2"><tr>
<td bgcolor="#99ccff"><a href="graspit-manual_3.html"><img border="0" alt="3 Getting Started" src="../images/next.png"/></a></td><td bgcolor="#99ccff"><a href="graspit-manual.html"><img border="0" alt="Top" src="../images/up.png"/></a></td><td bgcolor="#99ccff"><a href="graspit-manual_1.html"><img border="0" alt="1 Introduction" src="../images/previous.png"/></a></td><td align="center" bgcolor="#99ccff" width="100%"><b>2 Installation</b></td><td bgcolor="#99ccff" align="center"><a href="graspit-manual.html#hlxcontents"><p>Contents</a></td></tr></table>
<h1>2 Installation</h1>
</p>
<ul>
<li><a href="#id1">2.1 GraspIt! Installation - Linux</a></li>
<ul>
<li><a href="#id2">Qt</a></li>
<li><a href="#id3">Coin</a></li>
<li><a href="#id4">SoQt</a></li>
<li><a href="#id5">Lapack</a></li>
<li><a href="#id6">GraspIt!</a></li>
</ul>
<li><a href="#id7">2.2 GraspIt! Installation - Windows</a></li>
<ul>
<li><a href="#id8">Qt</a></li>
<li><a href="#id9">Coin</a></li>
<li><a href="#id10">SoQt</a></li>
<li><a href="#id11">Lapack</a></li>
<li><a href="#id12">GraspIt!</a></li>
</ul>
</ul>
<p>The GraspIt! installation process consists of two steps. First, you
must install a set of external libraries, listed below. The
installation for each library is further detailed in the system
specific sections of this installation guide. Then, you must compile
the GraspIt! code itself and set up the environment variables.
</p>
<p>GraspIt! needs the following external libraries:
</p>
<dl><dt>Qt</dt><dd> Qt is a cross-platform application and UI framework. It
allows GraspIt! to have a platform-independent windowing system,
dialogs etc. GraspIt! currently uses Qt version 4, which is
available under two different licenses. This installer assumes you
will be using the open source version, see the <a href="http://www.qtsoftware.com">Qt
website</a> for more details on licensing
options.
</dd><dt>Coin</dt><dd> Coin is a Scene Graph API that GraspIt! uses for all of
its 3D rendering needs. It is an Open Inventor clone. At this time,
the latest version of Coin is Coin 3, but due to some compatibility
problems we advise using Coin 2 with GraspIt!. Like Qt, Coin is
available under a dual licensing model; here we assume you will be
using the open source license. See the
<a href="http://www.coin3d.org">Coin3D</a> website for more licensing
details.
</dd><dt>SoQt</dt><dd> SoQt is a GUI binding, essentially the "glue" between Qt
and Coin. It is available, under the same conditions as Coin, from
the Coin website. The latest version of SoQt that we have tested
GraspIt! with is SoQt 1.4.1, which provides seamless integration
with Qt4.
</dd><dt>Lapack</dt><dd> Lapack is a library for scientific computing that
GraspIt! uses for various matrix related tasks, such as matrix
multiplication, linear system solving, singular value decomposition,
etc.
</dd></dl>
<p>The GraspIt! project information comes in the form of a cross-platform
Qt project file, which is processed by QMake. Depending on your
system, you will convert this into either a Makefile or a Microsoft
Visual Studio project file.
</p>

<h2><a name="id1">2.1 GraspIt! Installation - Linux</a></h2>

<h3><a name="id2">Qt</a></h3><p>
Download Qt for C++ from the <a href="http://www.qtsoftware.com/downloads">Qt
website</a>.
</p>
<p>Follow the installation instructions (this usually amounts to just
doing <tt>configure</tt> and <tt>make</tt>). The installation
automatically goes to <tt>/usr/local/Trolltech/Qt-4.4.3</tt>, unless
you specify a different installation path. Set the following
environment variables:
</p>
<ul><li><tt>QTDIR</tt> - the path to your Qt installation 
</li><li><tt>PATH</tt> - add the path to <tt>&#36;QTDIR/bin</tt>
</li></ul>
<p>On Ubuntu systems it is probably possible to get Qt from the package
manager. We have not tested this, but you will probably need all of
the following packages:
</p>
<ul><li>libqt4-core
</li><li>libqt4-debug
</li><li>libqt4-dev
</li><li>libqt4-gui
</li><li>libqt4-qt3support
</li></ul>

<h3><a name="id3">Coin</a></h3><p>
Download Coin3d from the <a href="www.coin3d.org">Coin3D website</a> and
follow installation instructions. The examples below assume you choose
to install Coin in <tt>/usr/local/Coin</tt> (i.e. use
<tt>configure&nbsp;-prefix=/usr/local/Coin</tt>). Set the following
environment variables:
</p>
<ul><li><tt>COINDIR</tt> - the directory where you installed Coin
(e.g. <tt>/usr/local/Coin</tt>)
</li><li><tt>PATH</tt> - add <tt>&#36;COINDDIR/bin</tt>
(e.g. <tt>/usr/local/Coin/bin</tt>)
</li><li><tt>LD&#95;LIBRARY&#95;PATH</tt> - add <tt>&#36;COINDIR/lib</tt>
(e.g. <tt>/usr/local/Coin/lib</tt>)
</li></ul>

<h3><a name="id4">SoQt</a></h3><p>
Download SoQt from the <a href="http://www.coin3d.org">Coin3D website</a>
and follow the installation instruction. The configure script needs
the path to your Coin installation -
e.g. <tt>configure&nbsp;-prefix=/usr/local/Coin</tt>. Then just type
<tt>make install</tt>.
</p>

<h3><a name="id5">Lapack</a></h3><p>
On Ubuntu, all you need to do is install the following packages form
the package manager:
</p>
<ul><li>libblas-dev
</li><li>liblapack-dev
</li></ul>

<h3><a name="id6">GraspIt!</a></h3><p>
Download and unzip the GraspIt! code itself. Set the following
environment variable:
</p>
<ul><li><tt>GRASPIT</tt> - the directory where you unzipped GraspIt!
</li></ul>
<p>Build QHull. Go to the <tt>&#36;GRASPIT/qhull</tt> directory and type
<tt>make</tt>.
</p>
<p>Create the GraspIt! Makefile from the Qt project file. Edit
<tt>&#36;GRASPIT/graspit.pro</tt> to suit your system and
installation needs. Then type <tt>qmake graspit.pro</tt>.
</p>
<p>Build and go. From <tt>&#36;GRASPIT/</tt> type <tt>make</tt>.
</p>

<h2><a name="id7">2.2 GraspIt! Installation - Windows</a></h2><p>
We assume you are using the Microsoft Visual Studio compiler. Some of
the paths provided as examples in this installer are taken from MS
Visual Studio 2003; the change to your particular version of the
compiler should be straightforward.
</p>

<h3><a name="id8">Qt</a></h3><p>
Download Qt for C++ from the the <a href="http://www.qtsoftware.com/downloads">Qt
website</a>.
</p>
<p>GraspIt! is currently tested using Qt 4.5.2. So far, we have had the
best experience with <b>the source code version of Qt</b>, NOT any
of the installers that come with pre-built binaries. On the Qt
website, choose "Qt: Framework Only", then "Download Qt libraries 4.5
for Windows (166 Mb)" and finally click the link under "Source code
available on this link:". Currently, the recommended download link
that you will arrive at is
<a href="http://get.qtsoftware.com/qt/source/qt-win-opensource-src-4.5.2.zip">http://get.qtsoftware.com/qt/source/qt-win-opensource-src-4.5.2.zip</a>. However,
this will change as new versions are added to the website. Unzip the
archive to a directory of your choice.
</p>
<p>Set the following environment variables:
</p>
<ul><li><tt>QTDIR</tt> - the directory where you unzipped Qt (e.g. <tt>C:/Qt/4.4.3</tt>)
</li><li><tt>QMAKESPEC</tt> - this has to be set depending on your c++
compiler and platform. See <tt>&#36;QTDIR/mkspecs</tt> for a list of
options. If using Microsoft Visual Studio 2003, set this variable to
<tt>win32-msvc2003</tt>.
</li><li><tt>PATH</tt> - add <tt>&#36;QTDIR/bin</tt> to your <tt>PATH</tt>
</li></ul>
<p>You might also need to add to some compiler-specific paths to your
environment variables. If Qt's configure script fails, try to look
what file it failed to find, then add the respective path to either
<tt>PATH</tt>, <tt>INCLUDE</tt> or <tt>LIB</tt>. Also be aware of where in the particular environment variable you add a certain path - when searching for a
file, the system will use the first one that it finds, which might not
be the one that you intended. Here are, as examples, the paths that
need to be added when using MS Visual Studio 2003:
</p>
<ul>
<li><tt>PATH</tt>:
<ul><li>the path to <tt>nmake.exe</tt> (e.g. <tt>C:/Program Files/Microsoft Visual Studio .NET 2003/Vc7/bin</tt> )
</li><li>the path to the common dlls (e.g. <tt>C:/Program Files/Microsoft Visual Studio .NET 2003/Common7/IDE</tt> )
</li></ul>
</li><li><tt>INCLUDE</tt>:
<ul><li><tt>C:/Program Files/Microsoft Visual Studio .NET 2003/Vc7/include</tt>
</li><li><tt>C:/Program Files/Microsoft Visual Studio .NET 2003/Vc7/PlatformSDK/Include</tt>
</li></ul>
</li><li><tt>LIB</tt>:
<ul><li><tt>C:/Program Files/Microsoft Visual Studio .NET 2003/Vc7/PlatformSDK/Lib</tt>
</li><li><tt>C:/Program Files/Microsoft Visual Studio .NET 2003/Vc7/lib</tt>
</li></ul>
</li></ul>
<p>Follow the instructions provided with the Qt distribution for
installing (note: installation might take a couple of hours). We
recommend building both release and debug versions of Qt, so you have
all your options for linking later
on. Use <tt>configure&nbsp;-debug-and-release</tt> for that.
</p>
<p>WARNING: Other programs use Qt binaries, and often include the Qt
dll's (such as <tt>QtGui4.dll</tt>) in their distribution. If a path
to some other version of a Qt dll exists in you <tt>PATH</tt>
environment variable <b>before</b> <tt>&#36;QTDIR/bin</tt>, the system
will link GraspIt against the wrong version, often causing failure to
run. To be sure that you are linking against the right dll's, put
<tt>&#36;QTDIR/bin</tt> at the beginning of your <tt>PATH</tt>.
</p>

<h3><a name="id9">Coin</a></h3><p>
Download Coin3d for your C++ compiler from the <a href="http://www.coin3d.org">Coin3D
website</a>.
</p>
<p>We have tested the installation of GraspIt! using Coin 2.4.6. If using
MS Visual Studio 2003, we recommend downloading Coin 2.4.6 VC7
binaries, no installer.
</p>
<p>Set the following environment variables:
</p>
<ul><li><tt>COINDIR</tt> - the directory where you unzipped Coin (e.g. <tt>C:/Coin3D/2.4.6</tt>).
</li><li><tt>PATH</tt> - add the path to <tt>coin2.dll</tt> (e.g. <tt>C:/Coin3D/2.4.6/bin</tt>).
</li></ul>

<h3><a name="id10">SoQt</a></h3><p>
Download SoQt from the <a href="http://www.coin3d.org">Coin3D website</a>.
</p>
<p>You will need to build SoQt yourself from source code. The source code
comes with MS Visual Studio solution files, choose the appropriate one
depending on your compiler. Again, we recommend building both debug
and release versions. After the build completes, take a look in
<tt>&#36;COINDIR/bin</tt> to make sure that the appropriate SoQt dlls (<tt>soqt1.dll</tt> and/or <tt>soqt1d.dll</tt>) have been built.
</p>

<h3><a name="id11">Lapack</a></h3><p>
You will need to link GraspIt! against your favorite implementation of
Lapack. This usually involves two steps: using a "wrapper" file so
you can call Fortran functions from C code and linking against the
correct library.
</p>
<p>We have tested GraspIt! with two Lapack implementations:
</p>
<ul><li>Intel Math Kernel Library (MKL), available from
<a href="http://software.intel.com/en-us/intel-mkl/">http://software.intel.com/en-us/intel-mkl/</a>
(free trial available);
</li><li>CLapack, available from
<a href="http://www.netlib.org/clapack/">http://www.netlib.org/clapack/</a>.
</li></ul>
<p>If you install one of these two, you can use them as follows:
</p>
<ul><li>set the environment variable <tt>MKLDIR</tt> or
<tt>CLAPACKDIR</tt> to the root of the respective Lapack library
installation;
</li><li>set the appropriate flag in the main GraspIt! project file (see below).
</li></ul>
<p>Unfortunately, it is possible that you might have to change these
settings to get the installation to work on your system, or you might
be using a different version of Lapack altogether. Due to the large
number of possible configurations, we can not provide more in-depth
guidelines. If linking against Lapack fails, please see the
Windows-specific GraspIt! project file
(<tt>graspit-lib-WINDOWS.pro</tt>), find the blas/lapack block, and
try to adapt it to your settings.
</p>

<h3><a name="id12">GraspIt!</a></h3><p>
Download and unzip the GraspIt! code itself. Set the following
environment variable:
</p>
<ul><li><tt>GRASPIT</tt> - the directory where you unzipped GraspIt! (e.g. <tt>C:/Documents and Settings/your&#95;username/My Documents/Graspit</tt>).
</li></ul>
<p>Build QHull. Open and build the MS Visual Studio solution
<tt>&#36;GRASPIT/qhull/windows/qhull.sln</tt>. Once again, we recommend building
both debug and release versions. Make sure <tt>qhull.lib</tt> has been
installed in the appropriate directory
(<tt>&#36;GRASPIT/qhull/windows/Debug</tt>
and/or <tt>&#36;GRASPIT/qhull/windows/Release</tt>).
</p>
<p>Edit <tt>&#36;GRASPIT/graspit.pro</tt> to suit your particular
installation. Among other options, you can choose which version of
Lapack to use. Then, create the GraspIt! MS Visual Studio project file
from the Qt project file. Execute the following command from inside
<tt>&#36;GRASPIT</tt> in a command prompt:
</p>
<p><tt>qmake -t vcapp -o graspit.vcproj graspit.pro</tt>
</p>
<p>This will create your GraspIt! MS Visual Studio project file. Open
<tt>graspit.vcproj</tt> in MS Visual Studio. Build GraspIt! and run.
</p>
<p><b>IMPORTANT</b>: 
based on the choice of Debug vs. Release made in
the <tt>graspit.pro</tt> file, make sure the appropriate configuration
(Debug or Release) is <b>also</b> selected in MS Visual Studio. This
ensures linking against the correct Qt libraries.
</p>
<p><b>WARNING</b>: it is not enough to switch between Debug and Release builds
using only the option in in MS Visual Studio. This will link against
the appropriate Qt libraries but NOT against the appropriate Coin,
SoQt and QHull libraries! The correct way of choosing a Debug or
Release build is to also edit the <tt>graspit.pro</tt> file.
</p>
<hr /><address><p>Copyright (C) 2002-2009 Columbia University</address><br />
<table width="100%" cellpadding="0" cellspacing="2"><tr>
<td bgcolor="#99ccff"><a href="graspit-manual_3.html"><img border="0" alt="3 Getting Started" src="../images/next.png"/></a></td><td bgcolor="#99ccff"><a href="graspit-manual.html"><img border="0" alt="Top" src="../images/up.png"/></a></td><td bgcolor="#99ccff"><a href="graspit-manual_1.html"><img border="0" alt="1 Introduction" src="../images/previous.png"/></a></td><td align="center" bgcolor="#99ccff" width="100%"><b>2 Installation</b></td><td bgcolor="#99ccff" align="center"><a href="graspit-manual.html#hlxcontents">Contents</a></td></tr></table></body></html>
